---
title: CAEP Interoperability Profile 1.0 - draft 01
abbrev: caep-interop
docname: caep-interoperability-profile-1_0
date: 2023-11-17

ipr: none
cat: std
wg: Shared Signals

coding: us-ascii
pi:
  toc: yes
  sortrefs: yes
  symrefs: yes
  private: yes

author:
      -
        ins: A. Tulshibagwale
        name: Atul Tulshibagwale
        org: SGNL
        email: atul@sgnl.ai

normative:
  SSF:
    target: http://openid.net/specs/openid-sse-framework-1_0.html
    title: OpenID Shared Signals and Events Framework Specification 1.0
    author:
      -
        ins: A. Tulshibagwale
        name: Atul Tulshibagwale
        org: Google
      -
        ins: T. Cappalli
        name: Tim Cappalli
        org: Microsoft
      -
        ins: M. Scurtescu
        name: Marius Scurtescu
        org: Coinbase
      -
        ins: A. Backman
        name: Annabelle Backman
        org: Amazon
      -
        ins: John Bradley
        name: John Bradley
        org: Yubico
  CAEP:
    target: https://openid.net/specs/openid-caep-specification-1_0.html
    title: OpenID Continuous Access Evaluation Profile 1.0
    author:
      -
        ins: T. Cappalli
        name: Tim Cappalli
        org: Microsoft
      -
        ins: A. Tulshibagwale
        name: Atul Tulshibagwale
        org: SGNL
  RFC8935:


--- abstract
This document defines an interoperability profile for implementations of the Shared Signals Framework (SSF) {{SSF}} and the Continuous Access Evaluation Profile (CAEP) {{CAEP}}. It is organized around use-cases that improve security of authenticated sessions. It specifies certain optional elements from within the SSF and CAEP specifications as being required to be supported in order to be considered as an interoperable implementation.

--- middle

# Introduction {#introduction}
SSF and CAEP together enable improved session security outcomes. This specification defines the minimum required features from SSF and CAEP that an implementation MUST offer in order to be considered as an interoperable implementation. This document defines specific use cases. An implementation may support only a subset of the use cases defined herein, and SHALL be considered an interoperable implementation for the specific use-cases it supports. The following use-cases are considered as a part of this specification:

Session Revocation
: A CAEP Transmitter or Receiver is able to respectively generate or respond to the CAEP session-revoked event

Credential Change
: A CAEP Transmitter or Receiver is able to respectively generate or respond to the CAEP credential-change event

# Definitions
CAEP Transmitter
: A SSF Transmitter that supports generating least one event type defined in the CAEP specification.

CAEP Receiver
: A SSF Receiver that supports receiving at least one event type defined in the CAEP specification.

# Common Requirements {#common-requirements}
The following requirements are common across all use-cases defined in this document.

## Transmitters {#common-transmitters}
Transmitters MUST implement the following features:

### Spec Version {#spec-version}
The Transmitter Configuration Metadata MUST have a `spec_version` field, and its value MUST be `1_0-ID2` or greater

### Delivery Method {#delivery-method}
The Transmitter Configuration Metadata MUST include the `delivery_methods_supported` field and its value MUST include the value `urn:ietf:rfc:8935` (i.e. the Push-Based Security Event Token (SET) Delivery Using HTTP specificaiton {{RFC8935}})

### Authorization Schemes
The Transmitter Configuration Metadata MUST include the `authorization_schemes` field and its value MUST include the value

~~~json
{
    "spec_urn": "urn:ietf:rfc:6749"
}
~~~

### Streams {#common-stream-configuration}
In all streams created by the Transmitter, the following MUST be true:

#### Delivery {#common-delivery}
The `delivery` field MUST be present in the Configuration of any Stream generated by the Transmitter, and its value MUST include the following:

~~~ json
{
    "method" : "urn:ietf:rfc:8935"
}
~~~

#### Stream Control
The following Stream Configuration API Methods MUST be supported:

**Creating a Stream**
: Receivers MUST be able to create a Stream with the Transmitter using valid authorization with the Transmitter. The Transmitter MAY support multiple streams with the same Receiver

**Reading Stream Configuration**
: A Receiver MUST be able to obtain current Stream configuration from the Transmitter by providing a valid authorization

**Getting the Stream Status**
: A Receiver MUST be able to obtain the current Stream status from the Transmitter by providing a valid authorization

**Stream Verification**
: A Receiver MUST be able to verify the liveness of the Stream by requesting that the Transmitter send it a Stream Verificaiton event

## Receivers {#common-receivers}
Receivers MUST implement the following features:

### Push Delivery {#common-receiver-push}
Receivers MUST be able to accept events using the Push-Based Security Event Token (SET) Delivery Using HTTP {{RFC8935}} specification.

### Implicitly Added Subjects {#common-receiver-subjects}
Receivers MUST assume that all subjects are implicitly included in a Stream, without any `AddSubject` method invocations.

## Event Subjects {#common-event-subjects}
Subjects of all events MUST support the `email` Simple Subject format.

## Event Signatures
All events MUST be signed using the `RS256` algorithm using a minimum of 2048-bit keys.

# Use Cases
Implementations MAY choose to support one or more of the following use-cases in order to be considered interoperable implementations

## Session Revocation / Logout
In order to support session revocation or logout, implementations MUST support the CAEP event type `session-revoked`.

## Credential Change
In order to support notifying and responding to credential changes, implementations MUST support the CAEP event type `credential-change`.
Within the `credential-change` event, implementations MUST support the following field values:

`change_type`
: Receivers MUST interpret all allowable values of this field. Transmitters MAY generate any allowable value of this field

`credential_type`
: Receivers MUST interpret the following values of this field. Transmitters MAY generate any of the following values:

  * `password`
  * `pin`
  * `fido2-platform`
  * `fido2-roaming`
  * `fido2-u2f`




