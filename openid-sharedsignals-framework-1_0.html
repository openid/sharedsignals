<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta content="Common,Latin" name="scripts">
<meta content="initial-scale=1.0" name="viewport">
<title>OpenID Shared Signals Framework Specification 1.0 - draft 02</title>
<meta content="Atul Tulshibagwale" name="author">
<meta content="Tim Cappalli" name="author">
<meta content="Marius Scurtescu" name="author">
<meta content="Annabelle Backman" name="author">
<meta content="John Bradley" name="author">
<meta content="Shayne Miel" name="author">
<meta content="
       This Shared Signals Framework (SSF) enables sharing of signals and events
between cooperating peers. It enables multiple applications such as Risk Incident Sharing
and Coordination (RISC) and the Continuous Access Evaluation Profile ( ) 
       This specification defines: 
       
         A profile for Security Events Tokens  
         Subject Principals 
         Subject Claims in SSF Events 
         Event Types 
         Event Properties 
         Configuration information and discovery method for Transmitters 
         A Management API for Event Streams 
       
       This spec also directly profiles several IETF Security Events drafts: 
       
         Security Event Token (SET)  
         Subject Identifiers for Security Event Tokens  
         Push-Based SET Token Delivery Using HTTP  
         Poll-Based SET Token Delivery Using HTTP  
       
    " name="description">
<meta content="xml2rfc 3.12.5" name="generator">
<meta content="openid-sharedsignals-framework-1_0" name="ietf.draft">
<!-- Generator version information:
  xml2rfc 3.12.5
    Python 3.9.6
    appdirs 1.4.4
    ConfigArgParse 1.5.3
    google-i18n-address 2.5.2
    html5lib 1.1
    intervaltree 3.1.0
    Jinja2 2.11.3
    kitchen 1.2.6
    lxml 4.9.1
    MarkupSafe 2.0.1
    pycountry 22.3.5
    pyflakes 2.5.0
    PyYAML 6.0
    requests 2.28.1
    setuptools 62.0.0
    six 1.16.0
-->
<link href="openid-sharedsignals-framework-1_0.xml" rel="alternate" type="application/rfc+xml">
<link href="#copyright" rel="license">
<style type="text/css">/*

  NOTE: Changes at the bottom of this file overrides some earlier settings.

  Once the style has stabilized and has been adopted as an official RFC style,
  this can be consolidated so that style settings occur only in one place, but
  for now the contents of this file consists first of the initial CSS work as
  provided to the RFC Formatter (xml2rfc) work, followed by itemized and
  commented changes found necssary during the development of the v3
  formatters.

*/

/* fonts */
@import url('https://fonts.googleapis.com/css?family=Noto+Sans'); /* Sans-serif */
@import url('https://fonts.googleapis.com/css?family=Noto+Serif'); /* Serif (print) */
@import url('https://fonts.googleapis.com/css?family=Roboto+Mono'); /* Monospace */

@viewport {
  zoom: 1.0;
  width: extend-to-zoom;
}
@-ms-viewport {
  width: extend-to-zoom;
  zoom: 1.0;
}
/* general and mobile first */
html {
}
body {
  max-width: 90%;
  margin: 1.5em auto;
  color: #222;
  background-color: #fff;
  font-size: 14px;
  font-family: 'Noto Sans', Arial, Helvetica, sans-serif;
  line-height: 1.6;
  scroll-behavior: smooth;
}
.ears {
  display: none;
}

/* headings */
#title, h1, h2, h3, h4, h5, h6 {
  margin: 1em 0 0.5em;
  font-weight: bold;
  line-height: 1.3;
}
#title {
  clear: both;
  border-bottom: 1px solid #ddd;
  margin: 0 0 0.5em 0;
  padding: 1em 0 0.5em;
}
.author {
  padding-bottom: 4px;
}
h1 {
  font-size: 26px;
  margin: 1em 0;
}
h2 {
  font-size: 22px;
  margin-top: -20px;  /* provide offset for in-page anchors */
  padding-top: 33px;
}
h3 {
  font-size: 18px;
  margin-top: -36px;  /* provide offset for in-page anchors */
  padding-top: 42px;
}
h4 {
  font-size: 16px;
  margin-top: -36px;  /* provide offset for in-page anchors */
  padding-top: 42px;
}
h5, h6 {
  font-size: 14px;
}
#n-copyright-notice {
  border-bottom: 1px solid #ddd;
  padding-bottom: 1em;
  margin-bottom: 1em;
}
/* general structure */
p {
  padding: 0;
  margin: 0 0 1em 0;
  text-align: left;
}
div, span {
  position: relative;
}
div {
  margin: 0;
}
.alignRight.art-text {
  background-color: #f9f9f9;
  border: 1px solid #eee;
  border-radius: 3px;
  padding: 1em 1em 0;
  margin-bottom: 1.5em;
}
.alignRight.art-text pre {
  padding: 0;
}
.alignRight {
  margin: 1em 0;
}
.alignRight > *:first-child {
  border: none;
  margin: 0;
  float: right;
  clear: both;
}
.alignRight > *:nth-child(2) {
  clear: both;
  display: block;
  border: none;
}
svg {
  display: block;
}
.alignCenter.art-text {
  background-color: #f9f9f9;
  border: 1px solid #eee;
  border-radius: 3px;
  padding: 1em 1em 0;
  margin-bottom: 1.5em;
}
.alignCenter.art-text pre {
  padding: 0;
}
.alignCenter {
  margin: 1em 0;
}
.alignCenter > *:first-child {
  border: none;
  /* this isn't optimal, but it's an existence proof.  PrinceXML doesn't
     support flexbox yet.
  */
  display: table;
  margin: 0 auto;
}

/* lists */
ol, ul {
  padding: 0;
  margin: 0 0 1em 2em;
}
ol ol, ul ul, ol ul, ul ol {
  margin-left: 1em;
}
li {
  margin: 0 0 0.25em 0;
}
.ulCompact li {
  margin: 0;
}
ul.empty, .ulEmpty {
  list-style-type: none;
}
ul.empty li, .ulEmpty li {
  margin-top: 0.5em;
}
ul.ulBare, li.ulBare {
  margin-left: 0em !important;
}
ul.compact, .ulCompact,
ol.compact, .olCompact {
  line-height: 100%;
  margin: 0 0 0 2em;
}

/* definition lists */
dl {
}
dl > dt {
  float: left;
  margin-right: 1em;
}
/* 
dl.nohang > dt {
  float: none;
}
*/
dl > dd {
  margin-bottom: .8em;
  min-height: 1.3em;
}
dl.compact > dd, .dlCompact > dd {
  margin-bottom: 0em;
}
dl > dd > dl {
  margin-top: 0.5em;
  margin-bottom: 0em;
}

/* links */
a {
  text-decoration: none;
}
a[href] {
  color: #22e; /* Arlen: WCAG 2019 */
}
a[href]:hover {
  background-color: #f2f2f2;
}
figcaption a[href],
a[href].selfRef {
  color: #222;
}
/* XXX probably not this:
a.selfRef:hover {
  background-color: transparent;
  cursor: default;
} */

/* Figures */
tt, code, pre, code {
  background-color: #f9f9f9;
  font-family: 'Roboto Mono', monospace;
}
pre {
  border: 1px solid #eee;
  margin: 0;
  padding: 1em;
}
img {
  max-width: 100%;
}
figure {
  margin: 0;
}
figure blockquote {
  margin: 0.8em 0.4em 0.4em;
}
figcaption {
  font-style: italic;
  margin: 0 0 1em 0;
}
@media screen {
  pre {
    overflow-x: auto;
    max-width: 100%;
    max-width: calc(100% - 22px);
  }
}

/* aside, blockquote */
aside, blockquote {
  margin-left: 0;
  padding: 1.2em 2em;
}
blockquote {
  background-color: #f9f9f9;
  color: #111; /* Arlen: WCAG 2019 */
  border: 1px solid #ddd;
  border-radius: 3px;
  margin: 1em 0;
}
cite {
  display: block;
  text-align: right;
  font-style: italic;
}

/* tables */
table {
  width: 100%;
  margin: 0 0 1em;
  border-collapse: collapse;
  border: 1px solid #eee;
}
th, td {
  text-align: left;
  vertical-align: top;
  padding: 0.5em 0.75em;
}
th {
  text-align: left;
  background-color: #e9e9e9;
}
tr:nth-child(2n+1) > td {
  background-color: #f5f5f5;
}
table caption {
  font-style: italic;
  margin: 0;
  padding: 0;
  text-align: left;
}
table p {
  /* XXX to avoid bottom margin on table row signifiers. If paragraphs should
     be allowed within tables more generally, it would be far better to select on a class. */
  margin: 0;
}

/* pilcrow */
a.pilcrow {
  color: #666; /* Arlen: AHDJ 2019 */
  text-decoration: none;
  visibility: hidden;
  user-select: none;
  -ms-user-select: none;
  -o-user-select:none;
  -moz-user-select: none;
  -khtml-user-select: none;
  -webkit-user-select: none;
  -webkit-touch-callout: none;
}
@media screen {
  aside:hover > a.pilcrow,
  p:hover > a.pilcrow,
  blockquote:hover > a.pilcrow,
  div:hover > a.pilcrow,
  li:hover > a.pilcrow,
  pre:hover > a.pilcrow {
    visibility: visible;
  }
  a.pilcrow:hover {
    background-color: transparent;
  }
}

/* misc */
hr {
  border: 0;
  border-top: 1px solid #eee;
}
.bcp14 {
  font-variant: small-caps;
}

.role {
  font-variant: all-small-caps;
}

/* info block */
#identifiers {
  margin: 0;
  font-size: 0.9em;
}
#identifiers dt {
  width: 3em;
  clear: left;
}
#identifiers dd {
  float: left;
  margin-bottom: 0;
}
/* Fix PDF info block run off issue */
@media print {
  #identifiers dd {
    float: none;
  }
}
#identifiers .authors .author {
  display: inline-block;
  margin-right: 1.5em;
}
#identifiers .authors .org {
  font-style: italic;
}

/* The prepared/rendered info at the very bottom of the page */
.docInfo {
  color: #666; /* Arlen: WCAG 2019 */
  font-size: 0.9em;
  font-style: italic;
  margin-top: 2em;
}
.docInfo .prepared {
  float: left;
}
.docInfo .prepared {
  float: right;
}

/* table of contents */
#toc  {
  padding: 0.75em 0 2em 0;
  margin-bottom: 1em;
}
nav.toc ul {
  margin: 0 0.5em 0 0;
  padding: 0;
  list-style: none;
}
nav.toc li {
  line-height: 1.3em;
  margin: 0.75em 0;
  padding-left: 1.2em;
  text-indent: -1.2em;
}
/* references */
.references dt {
  text-align: right;
  font-weight: bold;
  min-width: 7em;
}
.references dd {
  margin-left: 8em;
  overflow: auto;
}

.refInstance {
  margin-bottom: 1.25em;
}

.references .ascii {
  margin-bottom: 0.25em;
}

/* index */
.index ul {
  margin: 0 0 0 1em;
  padding: 0;
  list-style: none;
}
.index ul ul {
  margin: 0;
}
.index li {
  margin: 0;
  text-indent: -2em;
  padding-left: 2em;
  padding-bottom: 5px;
}
.indexIndex {
  margin: 0.5em 0 1em;
}
.index a {
  font-weight: 700;
}
/* make the index two-column on all but the smallest screens */
@media (min-width: 600px) {
  .index ul {
    -moz-column-count: 2;
    -moz-column-gap: 20px;
  }
  .index ul ul {
    -moz-column-count: 1;
    -moz-column-gap: 0;
  }
}

/* authors */
address.vcard {
  font-style: normal;
  margin: 1em 0;
}

address.vcard .nameRole {
  font-weight: 700;
  margin-left: 0;
}
address.vcard .label {
  font-family: "Noto Sans",Arial,Helvetica,sans-serif;
  margin: 0.5em 0;
}
address.vcard .type {
  display: none;
}
.alternative-contact {
  margin: 1.5em 0 1em;
}
hr.addr {
  border-top: 1px dashed;
  margin: 0;
  color: #ddd;
  max-width: calc(100% - 16px);
}

/* temporary notes */
.rfcEditorRemove::before {
  position: absolute;
  top: 0.2em;
  right: 0.2em;
  padding: 0.2em;
  content: "The RFC Editor will remove this note";
  color: #9e2a00; /* Arlen: WCAG 2019 */
  background-color: #ffd; /* Arlen: WCAG 2019 */
}
.rfcEditorRemove {
  position: relative;
  padding-top: 1.8em;
  background-color: #ffd; /* Arlen: WCAG 2019 */
  border-radius: 3px;
}
.cref {
  background-color: #ffd; /* Arlen: WCAG 2019 */
  padding: 2px 4px;
}
.crefSource {
  font-style: italic;
}
/* alternative layout for smaller screens */
@media screen and (max-width: 1023px) {
  body {
    padding-top: 2em;
  }
  #title {
    padding: 1em 0;
  }
  h1 {
    font-size: 24px;
  }
  h2 {
    font-size: 20px;
    margin-top: -18px;  /* provide offset for in-page anchors */
    padding-top: 38px;
  }
  #identifiers dd {
    max-width: 60%;
  }
  #toc {
    position: fixed;
    z-index: 2;
    top: 0;
    right: 0;
    padding: 0;
    margin: 0;
    background-color: inherit;
    border-bottom: 1px solid #ccc;
  }
  #toc h2 {
    margin: -1px 0 0 0;
    padding: 4px 0 4px 6px;
    padding-right: 1em;
    min-width: 190px;
    font-size: 1.1em;
    text-align: right;
    background-color: #444;
    color: white;
    cursor: pointer;
  }
  #toc h2::before { /* css hamburger */
    float: right;
    position: relative;
    width: 1em;
    height: 1px;
    left: -164px;
    margin: 6px 0 0 0;
    background: white none repeat scroll 0 0;
    box-shadow: 0 4px 0 0 white, 0 8px 0 0 white;
    content: "";
  }
  #toc nav {
    display: none;
    padding: 0.5em 1em 1em;
    overflow: auto;
    height: calc(100vh - 48px);
    border-left: 1px solid #ddd;
  }
}

/* alternative layout for wide screens */
@media screen and (min-width: 1024px) {
  body {
    max-width: 724px;
    margin: 42px auto;
    padding-left: 1.5em;
    padding-right: 29em;
  }
  #toc {
    position: fixed;
    top: 42px;
    right: 42px;
    width: 25%;
    margin: 0;
    padding: 0 1em;
    z-index: 1;
  }
  #toc h2 {
    border-top: none;
    border-bottom: 1px solid #ddd;
    font-size: 1em;
    font-weight: normal;
    margin: 0;
    padding: 0.25em 1em 1em 0;
  }
  #toc nav {
    display: block;
    height: calc(90vh - 84px);
    bottom: 0;
    padding: 0.5em 0 0;
    overflow: auto;
  }
  img { /* future proofing */
    max-width: 100%;
    height: auto;
  }
}

/* pagination */
@media print {
  body {

    width: 100%;
  }
  p {
    orphans: 3;
    widows: 3;
  }
  #n-copyright-notice {
    border-bottom: none;
  }
  #toc, #n-introduction {
    page-break-before: always;
  }
  #toc {
    border-top: none;
    padding-top: 0;
  }
  figure, pre {
    page-break-inside: avoid;
  }
  figure {
    overflow: scroll;
  }
  pre.breakable {
    break-inside: auto;
  }
  h1, h2, h3, h4, h5, h6 {
    page-break-after: avoid;
  }
  h2+*, h3+*, h4+*, h5+*, h6+* {
    page-break-before: avoid;
  }
  pre {
    white-space: pre-wrap;
    word-wrap: break-word;
    font-size: 10pt;
  }
  table {
    border: 1px solid #ddd;
  }
  td {
    border-top: 1px solid #ddd;
  }
}

/* This is commented out here, as the string-set: doesn't
   pass W3C validation currently */
/*
.ears thead .left {
  string-set: ears-top-left content();
}

.ears thead .center {
  string-set: ears-top-center content();
}

.ears thead .right {
  string-set: ears-top-right content();
}

.ears tfoot .left {
  string-set: ears-bottom-left content();
}

.ears tfoot .center {
  string-set: ears-bottom-center content();
}

.ears tfoot .right {
  string-set: ears-bottom-right content();
}
*/

@page :first {
  padding-top: 0;
  @top-left {
    content: normal;
    border: none;
  }
  @top-center {
    content: normal;
    border: none;
  }
  @top-right {
    content: normal;
    border: none;
  }
}

@page {
  size: A4;
  margin-bottom: 45mm;
  padding-top: 20px;
  /* The follwing is commented out here, but set appropriately by in code, as
     the content depends on the document */
  /*
  @top-left {
    content: 'Internet-Draft';
    vertical-align: bottom;
    border-bottom: solid 1px #ccc;
  }
  @top-left {
    content: string(ears-top-left);
    vertical-align: bottom;
    border-bottom: solid 1px #ccc;
  }
  @top-center {
    content: string(ears-top-center);
    vertical-align: bottom;
    border-bottom: solid 1px #ccc;
  }
  @top-right {
    content: string(ears-top-right);
    vertical-align: bottom;
    border-bottom: solid 1px #ccc;
  }
  @bottom-left {
    content: string(ears-bottom-left);
    vertical-align: top;
    border-top: solid 1px #ccc;
  }
  @bottom-center {
    content: string(ears-bottom-center);
    vertical-align: top;
    border-top: solid 1px #ccc;
  }
  @bottom-right {
      content: '[Page ' counter(page) ']';
      vertical-align: top;
      border-top: solid 1px #ccc;
  }
  */

}

/* Changes introduced to fix issues found during implementation */
/* Make sure links are clickable even if overlapped by following H* */
a {
  z-index: 2;
}
/* Separate body from document info even without intervening H1 */
section {
  clear: both;
}


/* Top align author divs, to avoid names without organization dropping level with org names */
.author {
  vertical-align: top;
}

/* Leave room in document info to show Internet-Draft on one line */
#identifiers dt {
  width: 8em;
}

/* Don't waste quite as much whitespace between label and value in doc info */
#identifiers dd {
  margin-left: 1em;
}

/* Give floating toc a background color (needed when it's a div inside section */
#toc {
  background-color: white;
}

/* Make the collapsed ToC header render white on gray also when it's a link */
@media screen and (max-width: 1023px) {
  #toc h2 a,
  #toc h2 a:link,
  #toc h2 a:focus,
  #toc h2 a:hover,
  #toc a.toplink,
  #toc a.toplink:hover {
    color: white;
    background-color: #444;
    text-decoration: none;
  }
}

/* Give the bottom of the ToC some whitespace */
@media screen and (min-width: 1024px) {
  #toc {
    padding: 0 0 1em 1em;
  }
}

/* Style section numbers with more space between number and title */
.section-number {
  padding-right: 0.5em;
}

/* prevent monospace from becoming overly large */
tt, code, pre, code {
  font-size: 95%;
}

/* Fix the height/width aspect for ascii art*/
pre.sourcecode,
.art-text pre {
  line-height: 1.12;
}


/* Add styling for a link in the ToC that points to the top of the document */
a.toplink {
  float: right;
  margin-right: 0.5em;
}

/* Fix the dl styling to match the RFC 7992 attributes */
dl > dt,
dl.dlParallel > dt {
  float: left;
  margin-right: 1em;
}
dl.dlNewline > dt {
  float: none;
}

/* Provide styling for table cell text alignment */
table td.text-left,
table th.text-left {
  text-align: left;
}
table td.text-center,
table th.text-center {
  text-align: center;
}
table td.text-right,
table th.text-right {
  text-align: right;
}

/* Make the alternative author contact informatio look less like just another
   author, and group it closer with the primary author contact information */
.alternative-contact {
  margin: 0.5em 0 0.25em 0;
}
address .non-ascii {
  margin: 0 0 0 2em;
}

/* With it being possible to set tables with alignment
  left, center, and right, { width: 100%; } does not make sense */
table {
  width: auto;
}

/* Avoid reference text that sits in a block with very wide left margin,
   because of a long floating dt label.*/
.references dd {
  overflow: visible;
}

/* Control caption placement */
caption {
  caption-side: bottom;
}

/* Limit the width of the author address vcard, so names in right-to-left
   script don't end up on the other side of the page. */

address.vcard {
  max-width: 30em;
  margin-right: auto;
}

/* For address alignment dependent on LTR or RTL scripts */
address div.left {
  text-align: left;
}
address div.right {
  text-align: right;
}

/* Provide table alignment support.  We can't use the alignX classes above
   since they do unwanted things with caption and other styling. */
table.right {
 margin-left: auto;
 margin-right: 0;
}
table.center {
 margin-left: auto;
 margin-right: auto;
}
table.left {
 margin-left: 0;
 margin-right: auto;
}

/* Give the table caption label the same styling as the figcaption */
caption a[href] {
  color: #222;
}

@media print {
  .toplink {
    display: none;
  }

  /* avoid overwriting the top border line with the ToC header */
  #toc {
    padding-top: 1px;
  }

  /* Avoid page breaks inside dl and author address entries */
  .vcard {
    page-break-inside: avoid;
  }

}
/* Tweak the bcp14 keyword presentation */
.bcp14 {
  font-variant: small-caps;
  font-weight: bold;
  font-size: 0.9em;
}
/* Tweak the invisible space above H* in order not to overlay links in text above */
 h2 {
  margin-top: -18px;  /* provide offset for in-page anchors */
  padding-top: 31px;
 }
 h3 {
  margin-top: -18px;  /* provide offset for in-page anchors */
  padding-top: 24px;
 }
 h4 {
  margin-top: -18px;  /* provide offset for in-page anchors */
  padding-top: 24px;
 }
/* Float artwork pilcrow to the right */
@media screen {
  .artwork a.pilcrow {
    display: block;
    line-height: 0.7;
    margin-top: 0.15em;
  }
}
/* Make pilcrows on dd visible */
@media screen {
  dd:hover > a.pilcrow {
    visibility: visible;
  }
}
/* Make the placement of figcaption match that of a table's caption
   by removing the figure's added bottom margin */
.alignLeft.art-text,
.alignCenter.art-text,
.alignRight.art-text {
   margin-bottom: 0;
}
.alignLeft,
.alignCenter,
.alignRight {
  margin: 1em 0 0 0;
}
/* In print, the pilcrow won't show on hover, so prevent it from taking up space,
   possibly even requiring a new line */
@media print {
  a.pilcrow {
    display: none;
  }
}
/* Styling for the external metadata */
div#external-metadata {
  background-color: #eee;
  padding: 0.5em;
  margin-bottom: 0.5em;
  display: none;
}
div#internal-metadata {
  padding: 0.5em;                       /* to match the external-metadata padding */
}
/* Styling for title RFC Number */
h1#rfcnum {
  clear: both;
  margin: 0 0 -1em;
  padding: 1em 0 0 0;
}
/* Make .olPercent look the same as <ol><li> */
dl.olPercent > dd {
  margin-bottom: 0.25em;
  min-height: initial;
}
/* Give aside some styling to set it apart */
aside {
  border-left: 1px solid #ddd;
  margin: 1em 0 1em 2em;
  padding: 0.2em 2em;
}
aside > dl,
aside > ol,
aside > ul,
aside > table,
aside > p {
  margin-bottom: 0.5em;
}
/* Additional page break settings */
@media print {
  figcaption, table caption {
    page-break-before: avoid;
  }
}
/* Font size adjustments for print */
@media print {
  body  { font-size: 10pt;      line-height: normal; max-width: 96%; }
  h1    { font-size: 1.72em;    padding-top: 1.5em; } /* 1*1.2*1.2*1.2 */
  h2    { font-size: 1.44em;    padding-top: 1.5em; } /* 1*1.2*1.2 */
  h3    { font-size: 1.2em;     padding-top: 1.5em; } /* 1*1.2 */
  h4    { font-size: 1em;       padding-top: 1.5em; }
  h5, h6 { font-size: 1em;      margin: initial; padding: 0.5em 0 0.3em; }
}
/* Sourcecode margin in print, when there's no pilcrow */
@media print {
  .artwork,
  .sourcecode {
    margin-bottom: 1em;
  }
}
/* Avoid narrow tables forcing too narrow table captions, which may render badly */
table {
  min-width: 20em;
}
/* ol type a */
ol.type-a { list-style-type: lower-alpha; }
ol.type-A { list-style-type: upper-alpha; }
ol.type-i { list-style-type: lower-roman; }
ol.type-I { list-style-type: lower-roman; }
/* Apply the print table and row borders in general, on request from the RPC,
and increase the contrast between border and odd row background sligthtly */
table {
  border: 1px solid #ddd;
}
td {
  border-top: 1px solid #ddd;
}
tr:nth-child(2n+1) > td {
  background-color: #f8f8f8;
}
/* Use style rules to govern display of the TOC. */
@media screen and (max-width: 1023px) {
  #toc nav { display: none; }
  #toc.active nav { display: block; }
}
/* Add support for keepWithNext */
.keepWithNext {
  break-after: avoid-page;
  break-after: avoid-page;
}
/* Add support for keepWithPrevious */
.keepWithPrevious {
  break-before: avoid-page;
}
/* Change the approach to avoiding breaks inside artwork etc. */
figure, pre, table, .artwork, .sourcecode  {
  break-before: auto;
  break-after: auto;
}
/* Avoid breaks between <dt> and <dd> */
dl {
  break-before: auto;
  break-inside: auto;
}
dt {
  break-before: auto;
  break-after: avoid-page;
}
dd {
  break-before: avoid-page;
  break-after: auto;
  orphans: 3;
  widows: 3
}
span.break, dd.break {
  margin-bottom: 0;
  min-height: 0;
  break-before: auto;
  break-inside: auto;
  break-after: auto;
}
/* Undo break-before ToC */
@media print {
  #toc {
    break-before: auto;
  }
}
/* Text in compact lists should not get extra bottim margin space,
   since that would makes the list not compact */
ul.compact p, .ulCompact p,
ol.compact p, .olCompact p {
 margin: 0;
}
/* But the list as a whole needs the extra space at the end */
section ul.compact,
section .ulCompact,
section ol.compact,
section .olCompact {
  margin-bottom: 1em;                    /* same as p not within ul.compact etc. */
}
/* The tt and code background above interferes with for instance table cell
   backgrounds.  Changed to something a bit more selective. */
tt, code {
  background-color: transparent;
}
p tt, p code, li tt, li code {
  background-color: #f8f8f8;
}
/* Tweak the pre margin -- 0px doesn't come out well */
pre {
   margin-top: 0.5px;
}
/* Tweak the comact list text */
ul.compact, .ulCompact,
ol.compact, .olCompact,
dl.compact, .dlCompact {
  line-height: normal;
}
/* Don't add top margin for nested lists */
li > ul, li > ol, li > dl,
dd > ul, dd > ol, dd > dl,
dl > dd > dl {
  margin-top: initial;
}
/* Elements that should not be rendered on the same line as a <dt> */
/* This should match the element list in writer.text.TextWriter.render_dl() */
dd > div.artwork:first-child,
dd > aside:first-child,
dd > figure:first-child,
dd > ol:first-child,
dd > div:first-child > pre.sourcecode,
dd > table:first-child,
dd > ul:first-child {
  clear: left;
}
/* fix for weird browser behaviour when <dd/> is empty */
dt+dd:empty::before{
  content: "\00a0";
}
/* Make paragraph spacing inside <li> smaller than in body text, to fit better within the list */
li > p {
  margin-bottom: 0.5em
}
/* Don't let p margin spill out from inside list items */
li > p:last-of-type {
  margin-bottom: 0;
}
</style>
<link href="rfc-local.css" rel="stylesheet" type="text/css">
<script type="application/javascript">async function addMetadata(){try{const e=document.styleSheets[0].cssRules;for(let t=0;t<e.length;t++)if(/#identifiers/.exec(e[t].selectorText)){const a=e[t].cssText.replace("#identifiers","#external-updates");document.styleSheets[0].insertRule(a,document.styleSheets[0].cssRules.length)}}catch(e){console.log(e)}const e=document.getElementById("external-metadata");if(e)try{var t,a="",o=function(e){const t=document.getElementsByTagName("meta");for(let a=0;a<t.length;a++)if(t[a].getAttribute("name")===e)return t[a].getAttribute("content");return""}("rfc.number");if(o){t="https://www.rfc-editor.org/rfc/rfc"+o+".json";try{const e=await fetch(t);a=await e.json()}catch(e){t=document.URL.indexOf("html")>=0?document.URL.replace(/html$/,"json"):document.URL+".json";const o=await fetch(t);a=await o.json()}}if(!a)return;e.style.display="block";const s="",d="https://datatracker.ietf.org/doc",n="https://datatracker.ietf.org/ipr/search",c="https://www.rfc-editor.org/info",l=a.doc_id.toLowerCase(),i=a.doc_id.slice(0,3).toLowerCase(),f=a.doc_id.slice(3).replace(/^0+/,""),u={status:"Status",obsoletes:"Obsoletes",obsoleted_by:"Obsoleted By",updates:"Updates",updated_by:"Updated By",see_also:"See Also",errata_url:"Errata"};let h="<dl style='overflow:hidden' id='external-updates'>";["status","obsoletes","obsoleted_by","updates","updated_by","see_also","errata_url"].forEach(e=>{if("status"==e){a[e]=a[e].toLowerCase();var t=a[e].split(" "),o=t.length,w="",p=1;for(let e=0;e<o;e++)p<o?w=w+r(t[e])+" ":w+=r(t[e]),p++;a[e]=w}else if("obsoletes"==e||"obsoleted_by"==e||"updates"==e||"updated_by"==e){var g,m="",b=1;g=a[e].length;for(let t=0;t<g;t++)a[e][t]&&(a[e][t]=String(a[e][t]).toLowerCase(),m=b<g?m+"<a href='"+s+"/rfc/".concat(a[e][t])+"'>"+a[e][t].slice(3)+"</a>, ":m+"<a href='"+s+"/rfc/".concat(a[e][t])+"'>"+a[e][t].slice(3)+"</a>",b++);a[e]=m}else if("see_also"==e){var y,L="",C=1;y=a[e].length;for(let t=0;t<y;t++)if(a[e][t]){a[e][t]=String(a[e][t]);var _=a[e][t].slice(0,3),v=a[e][t].slice(3).replace(/^0+/,"");L=C<y?"RFC"!=_?L+"<a href='"+s+"/info/"+_.toLowerCase().concat(v.toLowerCase())+"'>"+_+" "+v+"</a>, ":L+"<a href='"+s+"/info/"+_.toLowerCase().concat(v.toLowerCase())+"'>"+v+"</a>, ":"RFC"!=_?L+"<a href='"+s+"/info/"+_.toLowerCase().concat(v.toLowerCase())+"'>"+_+" "+v+"</a>":L+"<a href='"+s+"/info/"+_.toLowerCase().concat(v.toLowerCase())+"'>"+v+"</a>",C++}a[e]=L}else if("errata_url"==e){var R="";R=a[e]?R+"<a href='"+a[e]+"'>Errata exist</a> | <a href='"+d+"/"+l+"'>Datatracker</a>| <a href='"+n+"/?"+i+"="+f+"&submit="+i+"'>IPR</a> | <a href='"+c+"/"+l+"'>Info page</a>":"<a href='"+d+"/"+l+"'>Datatracker</a> | <a href='"+n+"/?"+i+"="+f+"&submit="+i+"'>IPR</a> | <a href='"+c+"/"+l+"'>Info page</a>",a[e]=R}""!=a[e]?"Errata"==u[e]?h+=`<dt>More info:</dt><dd>${a[e]}</dd>`:h+=`<dt>${u[e]}:</dt><dd>${a[e]}</dd>`:"Errata"==u[e]&&(h+=`<dt>More info:</dt><dd>${a[e]}</dd>`)}),h+="</dl>",e.innerHTML=h}catch(e){console.log(e)}else console.log("Could not locate metadata <div> element");function r(e){return e.charAt(0).toUpperCase()+e.slice(1)}}window.removeEventListener("load",addMetadata),window.addEventListener("load",addMetadata);</script>
</head>
<body>
<script src="metadata.min.js"></script>
<table class="ears">
<thead><tr>
<td class="left"></td>
<td class="center">SharedSignals</td>
<td class="right">June 2023</td>
</tr></thead>
<tfoot><tr>
<td class="left">Tulshibagwale, et al.</td>
<td class="center">Standards Track</td>
<td class="right">[Page]</td>
</tr></tfoot>
</table>
<div id="external-metadata" class="document-information"></div>
<div id="internal-metadata" class="document-information">
<dl id="identifiers">
<dt class="label-workgroup">Workgroup:</dt>
<dd class="workgroup">Shared Signals</dd>
<dt class="label-authors">Authors:</dt>
<dd class="authors">
<div class="author">
      <div class="author-name">A. Tulshibagwale</div>
<div class="org">SGNL</div>
</div>
<div class="author">
      <div class="author-name">T. Cappalli</div>
<div class="org">Microsoft</div>
</div>
<div class="author">
      <div class="author-name">M. Scurtescu</div>
<div class="org">Coinbase</div>
</div>
<div class="author">
      <div class="author-name">A. Backman</div>
<div class="org">Amazon</div>
</div>
<div class="author">
      <div class="author-name">J. Bradley</div>
<div class="org">Yubico</div>
</div>
<div class="author">
      <div class="author-name">S. Miel</div>
<div class="org">Cisco</div>
</div>
</dd>
</dl>
</div>
<h1 id="title">OpenID Shared Signals Framework Specification 1.0 - draft 02</h1>
<section id="section-abstract">
      <h2 id="abstract"><a href="#abstract" class="selfRef">Abstract</a></h2>
<p id="section-abstract-1">This Shared Signals Framework (SSF) enables sharing of signals and events
between cooperating peers. It enables multiple applications such as Risk Incident Sharing
and Coordination (RISC) and the Continuous Access Evaluation Profile (<span>[<a href="#CAEP" class="xref">CAEP</a>]</span>)<a href="#section-abstract-1" class="pilcrow">¶</a></p>
<p id="section-abstract-2">This specification defines:<a href="#section-abstract-2" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-abstract-3.1">A profile for Security Events Tokens <span>[<a href="#RFC8417" class="xref">RFC8417</a>]</span><a href="#section-abstract-3.1" class="pilcrow">¶</a>
</li>
        <li class="normal" id="section-abstract-3.2">Subject Principals<a href="#section-abstract-3.2" class="pilcrow">¶</a>
</li>
        <li class="normal" id="section-abstract-3.3">Subject Claims in SSF Events<a href="#section-abstract-3.3" class="pilcrow">¶</a>
</li>
        <li class="normal" id="section-abstract-3.4">Event Types<a href="#section-abstract-3.4" class="pilcrow">¶</a>
</li>
        <li class="normal" id="section-abstract-3.5">Event Properties<a href="#section-abstract-3.5" class="pilcrow">¶</a>
</li>
        <li class="normal" id="section-abstract-3.6">Configuration information and discovery method for Transmitters<a href="#section-abstract-3.6" class="pilcrow">¶</a>
</li>
        <li class="normal" id="section-abstract-3.7">A Management API for Event Streams<a href="#section-abstract-3.7" class="pilcrow">¶</a>
</li>
      </ul>
<p id="section-abstract-4">This spec also directly profiles several IETF Security Events drafts:<a href="#section-abstract-4" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-abstract-5.1">Security Event Token (SET) <span>[<a href="#RFC8417" class="xref">RFC8417</a>]</span><a href="#section-abstract-5.1" class="pilcrow">¶</a>
</li>
        <li class="normal" id="section-abstract-5.2">Subject Identifiers for Security Event Tokens <span>[<a href="#SUBIDS" class="xref">SUBIDS</a>]</span><a href="#section-abstract-5.2" class="pilcrow">¶</a>
</li>
        <li class="normal" id="section-abstract-5.3">Push-Based SET Token Delivery Using HTTP <span>[<a href="#DELIVERYPUSH" class="xref">DELIVERYPUSH</a>]</span><a href="#section-abstract-5.3" class="pilcrow">¶</a>
</li>
        <li class="normal" id="section-abstract-5.4">Poll-Based SET Token Delivery Using HTTP <span>[<a href="#DELIVERYPOLL" class="xref">DELIVERYPOLL</a>]</span><a href="#section-abstract-5.4" class="pilcrow">¶</a>
</li>
      </ul>
</section>
<div id="toc">
<section id="section-toc.1">
        <a href="#" onclick="scroll(0,0)" class="toplink">▲</a><h2 id="name-table-of-contents">
<a href="#name-table-of-contents" class="section-name selfRef">Table of Contents</a>
        </h2>
<nav class="toc"><ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.1">
            <p id="section-toc.1-1.1.1" class="keepWithNext"><a href="#section-1" class="xref">1</a>.  <a href="#name-introduction" class="xref">Introduction</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.1.2.1">
                <p id="section-toc.1-1.1.2.1.1" class="keepWithNext"><a href="#section-1.1" class="xref">1.1</a>.  <a href="#name-notational-conventions" class="xref">Notational Conventions</a></p>
</li>
            </ul>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.2">
            <p id="section-toc.1-1.2.1" class="keepWithNext"><a href="#section-2" class="xref">2</a>.  <a href="#name-subject-principals" class="xref">Subject Principals</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.3">
            <p id="section-toc.1-1.3.1"><a href="#section-3" class="xref">3</a>.  <a href="#name-subject-members-in-ssf-even" class="xref">Subject Members in SSF Events</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.3.2.1">
                <p id="section-toc.1-1.3.2.1.1"><a href="#section-3.1" class="xref">3.1</a>.  <a href="#name-simple-subject-members" class="xref">Simple Subject Members</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.3.2.2">
                <p id="section-toc.1-1.3.2.2.1"><a href="#section-3.2" class="xref">3.2</a>.  <a href="#name-complex-subject-members" class="xref">Complex Subject Members</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.3.2.2.2.1">
                    <p id="section-toc.1-1.3.2.2.2.1.1"><a href="#section-3.2.1" class="xref">3.2.1</a>.  <a href="#name-complex-subject-interpretat" class="xref">Complex Subject Interpretation</a></p>
</li>
                </ul>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.3.2.3">
                <p id="section-toc.1-1.3.2.3.1"><a href="#section-3.3" class="xref">3.3</a>.  <a href="#name-subject-identifiers-in-ssf-" class="xref">Subject Identifiers in SSF Events</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.3.2.4">
                <p id="section-toc.1-1.3.2.4.1"><a href="#section-3.4" class="xref">3.4</a>.  <a href="#name-additional-subject-identifi" class="xref">Additional Subject Identifier Formats</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.3.2.4.2.1">
                    <p id="section-toc.1-1.3.2.4.2.1.1"><a href="#section-3.4.1" class="xref">3.4.1</a>.  <a href="#name-jwt-id-subject-identifier-f" class="xref">JWT ID Subject Identifier Format</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.3.2.4.2.2">
                    <p id="section-toc.1-1.3.2.4.2.2.1"><a href="#section-3.4.2" class="xref">3.4.2</a>.  <a href="#name-saml-assertion-id-subject-i" class="xref">SAML Assertion ID Subject Identifier Format</a></p>
</li>
                </ul>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.3.2.5">
                <p id="section-toc.1-1.3.2.5.1"><a href="#section-3.5" class="xref">3.5</a>.  <a href="#name-receiver-subject-processing" class="xref">Receiver Subject Processing</a></p>
</li>
            </ul>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.4">
            <p id="section-toc.1-1.4.1"><a href="#section-4" class="xref">4</a>.  <a href="#name-event-properties" class="xref">Event Properties</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.5">
            <p id="section-toc.1-1.5.1"><a href="#section-5" class="xref">5</a>.  <a href="#name-example-sets-that-conform-t" class="xref">Example SETs that conform to the Shared Signals Framework</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.6">
            <p id="section-toc.1-1.6.1"><a href="#section-6" class="xref">6</a>.  <a href="#name-transmitter-configuration-d" class="xref">Transmitter Configuration Discovery</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.6.2.1">
                <p id="section-toc.1-1.6.2.1.1"><a href="#section-6.1" class="xref">6.1</a>.  <a href="#name-transmitter-configuration-m" class="xref">Transmitter Configuration Metadata</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.6.2.2">
                <p id="section-toc.1-1.6.2.2.1"><a href="#section-6.2" class="xref">6.2</a>.  <a href="#name-obtaining-transmitter-confi" class="xref">Obtaining Transmitter Configuration Information</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.6.2.2.2.1">
                    <p id="section-toc.1-1.6.2.2.2.1.1"><a href="#section-6.2.1" class="xref">6.2.1</a>.  <a href="#name-transmitter-configuration-r" class="xref">Transmitter Configuration Request</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.6.2.2.2.2">
                    <p id="section-toc.1-1.6.2.2.2.2.1"><a href="#section-6.2.2" class="xref">6.2.2</a>.  <a href="#name-backward-compatibility-for-" class="xref">Backward Compatibility for RISC Transmitters</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.6.2.2.2.3">
                    <p id="section-toc.1-1.6.2.2.2.3.1"><a href="#section-6.2.3" class="xref">6.2.3</a>.  <a href="#name-transmitter-configuration-re" class="xref">Transmitter Configuration Response</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.6.2.2.2.4">
                    <p id="section-toc.1-1.6.2.2.2.4.1"><a href="#section-6.2.4" class="xref">6.2.4</a>.  <a href="#name-transmitter-configuration-v" class="xref">Transmitter Configuration Validation</a></p>
</li>
                </ul>
</li>
            </ul>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.7">
            <p id="section-toc.1-1.7.1"><a href="#section-7" class="xref">7</a>.  <a href="#name-management-api-for-set-even" class="xref">Management API for SET Event Streams</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.7.2.1">
                <p id="section-toc.1-1.7.2.1.1"><a href="#section-7.1" class="xref">7.1</a>.  <a href="#name-event-stream-management" class="xref">Event Stream Management</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.7.2.1.2.1">
                    <p id="section-toc.1-1.7.2.1.2.1.1"><a href="#section-7.1.1" class="xref">7.1.1</a>.  <a href="#name-stream-configuration" class="xref">Stream Configuration</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.7.2.1.2.2">
                    <p id="section-toc.1-1.7.2.1.2.2.1"><a href="#section-7.1.2" class="xref">7.1.2</a>.  <a href="#name-stream-status" class="xref">Stream Status</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.7.2.1.2.3">
                    <p id="section-toc.1-1.7.2.1.2.3.1"><a href="#section-7.1.3" class="xref">7.1.3</a>.  <a href="#name-subjects" class="xref">Subjects</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.7.2.1.2.4">
                    <p id="section-toc.1-1.7.2.1.2.4.1"><a href="#section-7.1.4" class="xref">7.1.4</a>.  <a href="#name-verification" class="xref">Verification</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.7.2.1.2.5">
                    <p id="section-toc.1-1.7.2.1.2.5.1"><a href="#section-7.1.5" class="xref">7.1.5</a>.  <a href="#name-stream-updated-event" class="xref">Stream Updated Event</a></p>
</li>
                </ul>
</li>
            </ul>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.8">
            <p id="section-toc.1-1.8.1"><a href="#section-8" class="xref">8</a>.  <a href="#name-authorization" class="xref">Authorization</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.9">
            <p id="section-toc.1-1.9.1"><a href="#section-9" class="xref">9</a>.  <a href="#name-security-considerations" class="xref">Security Considerations</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.9.2.1">
                <p id="section-toc.1-1.9.2.1.1"><a href="#section-9.1" class="xref">9.1</a>.  <a href="#name-subject-probing" class="xref">Subject Probing</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.9.2.2">
                <p id="section-toc.1-1.9.2.2.1"><a href="#section-9.2" class="xref">9.2</a>.  <a href="#name-information-harvesting" class="xref">Information Harvesting</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.9.2.3">
                <p id="section-toc.1-1.9.2.3.1"><a href="#section-9.3" class="xref">9.3</a>.  <a href="#name-malicious-subject-removal" class="xref">Malicious Subject Removal</a></p>
</li>
            </ul>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.10">
            <p id="section-toc.1-1.10.1"><a href="#section-10" class="xref">10</a>. <a href="#name-privacy-considerations" class="xref">Privacy Considerations</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.10.2.1">
                <p id="section-toc.1-1.10.2.1.1"><a href="#section-10.1" class="xref">10.1</a>.  <a href="#name-subject-information-leakage" class="xref">Subject Information Leakage</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.10.2.2">
                <p id="section-toc.1-1.10.2.2.1"><a href="#section-10.2" class="xref">10.2</a>.  <a href="#name-previously-consented-data" class="xref">Previously Consented Data</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.10.2.3">
                <p id="section-toc.1-1.10.2.3.1"><a href="#section-10.3" class="xref">10.3</a>.  <a href="#name-new-data" class="xref">New Data</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.10.2.3.2.1">
                    <p id="section-toc.1-1.10.2.3.2.1.1"><a href="#section-10.3.1" class="xref">10.3.1</a>.  <a href="#name-organizational-data" class="xref">Organizational Data</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.10.2.3.2.2">
                    <p id="section-toc.1-1.10.2.3.2.2.1"><a href="#section-10.3.2" class="xref">10.3.2</a>.  <a href="#name-consentable-data" class="xref">Consentable Data</a></p>
</li>
                </ul>
</li>
            </ul>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.11">
            <p id="section-toc.1-1.11.1"><a href="#section-11" class="xref">11</a>. <a href="#name-profiles" class="xref">Profiles</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.11.2.1">
                <p id="section-toc.1-1.11.2.1.1"><a href="#section-11.1" class="xref">11.1</a>.  <a href="#name-security-event-token-profil" class="xref">Security Event Token Profile</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.11.2.1.2.1">
                    <p id="section-toc.1-1.11.2.1.2.1.1"><a href="#section-11.1.1" class="xref">11.1.1</a>.  <a href="#name-signature-key-resolution" class="xref">Signature Key Resolution</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.11.2.1.2.2">
                    <p id="section-toc.1-1.11.2.1.2.2.1"><a href="#section-11.1.2" class="xref">11.1.2</a>.  <a href="#name-ssf-event-subject" class="xref">SSF Event Subject</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.11.2.1.2.3">
                    <p id="section-toc.1-1.11.2.1.2.3.1"><a href="#section-11.1.3" class="xref">11.1.3</a>.  <a href="#name-ssf-event-properties" class="xref">SSF Event Properties</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.11.2.1.2.4">
                    <p id="section-toc.1-1.11.2.1.2.4.1"><a href="#section-11.1.4" class="xref">11.1.4</a>.  <a href="#name-explicit-typing-of-sets" class="xref">Explicit Typing of SETs</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.11.2.1.2.5">
                    <p id="section-toc.1-1.11.2.1.2.5.1"><a href="#section-11.1.5" class="xref">11.1.5</a>.  <a href="#name-the-exp-claim" class="xref">The "exp" Claim</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.11.2.1.2.6">
                    <p id="section-toc.1-1.11.2.1.2.6.1"><a href="#section-11.1.6" class="xref">11.1.6</a>.  <a href="#name-the-aud-claim" class="xref">The "aud" Claim</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.11.2.1.2.7">
                    <p id="section-toc.1-1.11.2.1.2.7.1"><a href="#section-11.1.7" class="xref">11.1.7</a>.  <a href="#name-the-events-claim" class="xref">The "events" claim</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.11.2.1.2.8">
                    <p id="section-toc.1-1.11.2.1.2.8.1"><a href="#section-11.1.8" class="xref">11.1.8</a>.  <a href="#name-security-considerations-2" class="xref">Security Considerations</a></p>
</li>
                </ul>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.11.2.2">
                <p id="section-toc.1-1.11.2.2.1"><a href="#section-11.2" class="xref">11.2</a>.  <a href="#name-set-token-delivery-using-ht" class="xref">SET Token Delivery Using HTTP Profile</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.11.2.2.2.1">
                    <p id="section-toc.1-1.11.2.2.2.1.1"><a href="#section-11.2.1" class="xref">11.2.1</a>.  <a href="#name-stream-configuration-metada" class="xref">Stream Configuration Metadata</a></p>
</li>
                </ul>
</li>
            </ul>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.12">
            <p id="section-toc.1-1.12.1"><a href="#section-12" class="xref">12</a>. <a href="#name-iana-considerations" class="xref">IANA Considerations</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.13">
            <p id="section-toc.1-1.13.1"><a href="#section-13" class="xref">13</a>. <a href="#name-references" class="xref">References</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.13.2.1">
                <p id="section-toc.1-1.13.2.1.1"><a href="#section-13.1" class="xref">13.1</a>.  <a href="#name-normative-references" class="xref">Normative References</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.13.2.2">
                <p id="section-toc.1-1.13.2.2.1"><a href="#section-13.2" class="xref">13.2</a>.  <a href="#name-informative-references" class="xref">Informative References</a></p>
</li>
            </ul>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.14">
            <p id="section-toc.1-1.14.1"><a href="#appendix-A" class="xref">Appendix A</a>.  <a href="#name-acknowledgements" class="xref">Acknowledgements</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.15">
            <p id="section-toc.1-1.15.1"><a href="#appendix-B" class="xref">Appendix B</a>.  <a href="#name-notices" class="xref">Notices</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.16">
            <p id="section-toc.1-1.16.1"><a href="#appendix-C" class="xref"></a><a href="#name-contributors" class="xref">Contributors</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.17">
            <p id="section-toc.1-1.17.1"><a href="#appendix-D" class="xref"></a><a href="#name-authors-addresses" class="xref">Authors' Addresses</a></p>
</li>
        </ul>
</nav>
</section>
</div>
<div id="introduction">
<section id="section-1">
      <h2 id="name-introduction">
<a href="#section-1" class="section-number selfRef">1. </a><a href="#name-introduction" class="section-name selfRef">Introduction</a>
      </h2>
<div id="notational-conventions">
<section id="section-1.1">
        <h3 id="name-notational-conventions">
<a href="#section-1.1" class="section-number selfRef">1.1. </a><a href="#name-notational-conventions" class="section-name selfRef">Notational Conventions</a>
        </h3>
<p id="section-1.1-1">The key words "MUST", "MUST NOT", "REQUIRED", "SHALL", "SHALL
NOT", "SHOULD", "SHOULD NOT", "RECOMMENDED", "NOT RECOMMENDED",
"MAY", and "OPTIONAL" in this document are to be interpreted as
described in BCP 14 <span>[<a href="#RFC2119" class="xref">RFC2119</a>]</span> <span>[<a href="#RFC8174" class="xref">RFC8174</a>]</span> when, and only when,
they appear in all capitals, as shown here.<a href="#section-1.1-1" class="pilcrow">¶</a></p>
</section>
</div>
</section>
</div>
<div id="subject-principals">
<section id="section-2">
      <h2 id="name-subject-principals">
<a href="#section-2" class="section-number selfRef">2. </a><a href="#name-subject-principals" class="section-name selfRef">Subject Principals</a>
      </h2>
<p id="section-2-1">This Shared Signals Framework specification defines a Subject Principal to be
the entities about which an event can be sent by Transmitters and received by
Receivers using the Shared Signals Framework.<a href="#section-2-1" class="pilcrow">¶</a></p>
<p id="section-2-2">Subject Principals are the managed entities in a SSF Transmitter or Receiver.
These include human or robotic principals, devices, customer tenants in a
multi-tenanted service, organizational units within a tenant, groups of subject
principals, or other entities that are managed by Transmitters and Receivers.
There may be other actors or resources that can be treated as Subject
Principals, and event-type definitions SHOULD specify the range of principals
addressed by the event.<a href="#section-2-2" class="pilcrow">¶</a></p>
<p id="section-2-3">Subject Principals are identified by Subject Members defined below.<a href="#section-2-3" class="pilcrow">¶</a></p>
</section>
</div>
<div id="subject-ids">
<section id="section-3">
      <h2 id="name-subject-members-in-ssf-even">
<a href="#section-3" class="section-number selfRef">3. </a><a href="#name-subject-members-in-ssf-even" class="section-name selfRef">Subject Members in SSF Events</a>
      </h2>
<p id="section-3-1">A member of type Subject in an SSF event MAY have any claim name. Each Subject Member MUST
refer to exactly one Subject Principal.<a href="#section-3-1" class="pilcrow">¶</a></p>
<p id="section-3-2">A Subject may be a "simple subject" or a "complex subject".<a href="#section-3-2" class="pilcrow">¶</a></p>
<div id="simple-subjects">
<section id="section-3.1">
        <h3 id="name-simple-subject-members">
<a href="#section-3.1" class="section-number selfRef">3.1. </a><a href="#name-simple-subject-members" class="section-name selfRef">Simple Subject Members</a>
        </h3>
<p id="section-3.1-1">A Simple Subject Member has a claim name and a value that is a "Subject
Identifier" as defined in the Subject Identifiers for Security Event Tokens
<span>[<a href="#SUBIDS" class="xref">SUBIDS</a>]</span>. Below is a non-normative example of a Simple Subject Member in a SSF
event.<a href="#section-3.1-1" class="pilcrow">¶</a></p>
<span id="name-example-simple-subject"></span><div id="simple-subject-ex">
<figure id="figure-1">
          <div id="section-3.1-2.1">
<pre class="lang-json sourcecode">
"transferer": {
  "format": "email",
  "email": "foo@example.com"
}
</pre>
</div>
<figcaption><a href="#figure-1" class="selfRef">Figure 1</a>:
<a href="#name-example-simple-subject" class="selfRef">Example: Simple Subject</a>
          </figcaption></figure>
</div>
</section>
</div>
<div id="complex-subjects">
<section id="section-3.2">
        <h3 id="name-complex-subject-members">
<a href="#section-3.2" class="section-number selfRef">3.2. </a><a href="#name-complex-subject-members" class="section-name selfRef">Complex Subject Members</a>
        </h3>
<p id="section-3.2-1">A Complex Subject Member has a name and a value that is a JSON <span>[<a href="#RFC7159" class="xref">RFC7159</a>]</span>
object that has a format field, and one or more Simple Subject Members. The name
of the format field is "format", and its value is "complex". The name of each
Simple Subject Member in this value MAY be one of the following:<a href="#section-3.2-1" class="pilcrow">¶</a></p>
<p id="section-3.2-2">user<a href="#section-3.2-2" class="pilcrow">¶</a></p>
<ul class="normal ulEmpty">
<li class="normal ulEmpty" id="section-3.2-3.1">
            <p id="section-3.2-3.1.1">OPTIONAL. A Subject Identifier that identifies a user.<a href="#section-3.2-3.1.1" class="pilcrow">¶</a></p>
</li>
        </ul>
<p id="section-3.2-4">device<a href="#section-3.2-4" class="pilcrow">¶</a></p>
<ul class="normal ulEmpty">
<li class="normal ulEmpty" id="section-3.2-5.1">
            <p id="section-3.2-5.1.1">OPTIONAL. A Subject Identifier that identifies a device.<a href="#section-3.2-5.1.1" class="pilcrow">¶</a></p>
</li>
        </ul>
<p id="section-3.2-6">session<a href="#section-3.2-6" class="pilcrow">¶</a></p>
<ul class="normal ulEmpty">
<li class="normal ulEmpty" id="section-3.2-7.1">
            <p id="section-3.2-7.1.1">OPTIONAL. A Subject Identifier that identifies a session.<a href="#section-3.2-7.1.1" class="pilcrow">¶</a></p>
</li>
        </ul>
<p id="section-3.2-8">application<a href="#section-3.2-8" class="pilcrow">¶</a></p>
<ul class="normal ulEmpty">
<li class="normal ulEmpty" id="section-3.2-9.1">
            <p id="section-3.2-9.1.1">OPTIONAL. A Subject Identifier that identifies an application.<a href="#section-3.2-9.1.1" class="pilcrow">¶</a></p>
</li>
        </ul>
<p id="section-3.2-10">tenant<a href="#section-3.2-10" class="pilcrow">¶</a></p>
<ul class="normal ulEmpty">
<li class="normal ulEmpty" id="section-3.2-11.1">
            <p id="section-3.2-11.1.1">OPTIONAL. A Subject Identifier that identifies a tenant.<a href="#section-3.2-11.1.1" class="pilcrow">¶</a></p>
</li>
        </ul>
<p id="section-3.2-12">org_unit<a href="#section-3.2-12" class="pilcrow">¶</a></p>
<ul class="normal ulEmpty">
<li class="normal ulEmpty" id="section-3.2-13.1">
            <p id="section-3.2-13.1.1">OPTIONAL. A Subject Identifier that identifies an organizational unit.<a href="#section-3.2-13.1.1" class="pilcrow">¶</a></p>
</li>
        </ul>
<p id="section-3.2-14">group<a href="#section-3.2-14" class="pilcrow">¶</a></p>
<ul class="normal ulEmpty">
<li class="normal ulEmpty" id="section-3.2-15.1">
            <p id="section-3.2-15.1.1">OPTIONAL. A Subject Identifier that identifies a group.<a href="#section-3.2-15.1.1" class="pilcrow">¶</a></p>
</li>
        </ul>
<p id="section-3.2-16">Additional Subject Member names MAY be used in Complex Subjects. Each member name MAY
appear at most once in the Complex Subject value.<a href="#section-3.2-16" class="pilcrow">¶</a></p>
<p id="section-3.2-17">Below is a non-normative example of a Complex Subject claim in a SSF event.<a href="#section-3.2-17" class="pilcrow">¶</a></p>
<span id="name-example-complex-subject"></span><div id="complex-subject-ex">
<figure id="figure-2">
          <div id="section-3.2-18.1">
<pre class="lang-json sourcecode">
"transferee": {
  "format": "complex",
  "user" : {
    "format": "email",
    "email": "bar@example.com"
  },
  "tenant" : {
    "format": "iss_sub",
    "iss" : "http://example.com/idp1",
    "sub" : "1234"
  }
}
</pre>
</div>
<figcaption><a href="#figure-2" class="selfRef">Figure 2</a>:
<a href="#name-example-complex-subject" class="selfRef">Example: Complex Subject</a>
          </figcaption></figure>
</div>
<div id="complex-subject-interpretation">
<section id="section-3.2.1">
          <h4 id="name-complex-subject-interpretat">
<a href="#section-3.2.1" class="section-number selfRef">3.2.1. </a><a href="#name-complex-subject-interpretat" class="section-name selfRef">Complex Subject Interpretation</a>
          </h4>
<p id="section-3.2.1-1">All members within a Complex Subject MUST represent attributes of the same
Subject Principal. As a whole, the Complex Subject MUST refer to exactly one
Subject Principal.<a href="#section-3.2.1-1" class="pilcrow">¶</a></p>
</section>
</div>
</section>
</div>
<div id="subject-ids-in-ssf">
<section id="section-3.3">
        <h3 id="name-subject-identifiers-in-ssf-">
<a href="#section-3.3" class="section-number selfRef">3.3. </a><a href="#name-subject-identifiers-in-ssf-" class="section-name selfRef">Subject Identifiers in SSF Events</a>
        </h3>
<p id="section-3.3-1">A Subject Identifier in a SSF event MUST have an identifier format that is any
one of:<a href="#section-3.3-1" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-3.3-2.1">Defined in the IANA Registry defined in Subject Identifiers for Security
Event Tokens <span>[<a href="#SUBIDS" class="xref">SUBIDS</a>]</span><a href="#section-3.3-2.1" class="pilcrow">¶</a>
</li>
          <li class="normal" id="section-3.3-2.2">An identifier format defined in the Additional Subject Identifier Formats
(<a href="#additional-subject-id-formats" class="xref">Section 3.4</a>) section below, OR<a href="#section-3.3-2.2" class="pilcrow">¶</a>
</li>
          <li class="normal" id="section-3.3-2.3">A proprietary subject identifier format that is agreed to between parties.
Members within a subject identifier that has a proprietary subject identifier
format are agreed to between the parties and such agreement is outside the
scope of this specification.<a href="#section-3.3-2.3" class="pilcrow">¶</a>
</li>
        </ul>
</section>
</div>
<div id="additional-subject-id-formats">
<section id="section-3.4">
        <h3 id="name-additional-subject-identifi">
<a href="#section-3.4" class="section-number selfRef">3.4. </a><a href="#name-additional-subject-identifi" class="section-name selfRef">Additional Subject Identifier Formats</a>
        </h3>
<p id="section-3.4-1">The following new subject identifier formats are defined:<a href="#section-3.4-1" class="pilcrow">¶</a></p>
<div id="sub-id-jwt-id">
<section id="section-3.4.1">
          <h4 id="name-jwt-id-subject-identifier-f">
<a href="#section-3.4.1" class="section-number selfRef">3.4.1. </a><a href="#name-jwt-id-subject-identifier-f" class="section-name selfRef">JWT ID Subject Identifier Format</a>
          </h4>
<p id="section-3.4.1-1">The "JWT ID" Subject Identifier Format specifies a JSON Web Token (JWT)
identifier, defined in  <span>[<a href="#RFC7519" class="xref">RFC7519</a>]</span>. Subject Identifiers of this type MUST
contain the following members:<a href="#section-3.4.1-1" class="pilcrow">¶</a></p>
<p id="section-3.4.1-2">iss<a href="#section-3.4.1-2" class="pilcrow">¶</a></p>
<ul class="normal ulEmpty">
<li class="normal ulEmpty" id="section-3.4.1-3.1">
              <p id="section-3.4.1-3.1.1">REQUIRED. The "iss" (issuer) claim of the JWT being identified, defined in
  <span>[<a href="#RFC7519" class="xref">RFC7519</a>]</span><a href="#section-3.4.1-3.1.1" class="pilcrow">¶</a></p>
</li>
          </ul>
<p id="section-3.4.1-4">jti<a href="#section-3.4.1-4" class="pilcrow">¶</a></p>
<ul class="normal ulEmpty">
<li class="normal ulEmpty" id="section-3.4.1-5.1">
              <p id="section-3.4.1-5.1.1">REQUIRED. The "jti" (JWT token ID) claim of the JWT being identified, defined
  in <span>[<a href="#RFC7519" class="xref">RFC7519</a>]</span><a href="#section-3.4.1-5.1.1" class="pilcrow">¶</a></p>
</li>
          </ul>
<p id="section-3.4.1-6">The "JWT ID" Subject Identifier Format is identified by the name "jwt_id".<a href="#section-3.4.1-6" class="pilcrow">¶</a></p>
<p id="section-3.4.1-7">Below is a non-normative example of Subject Identifier for the "jwt_id" Subject
Identifier Format.<a href="#section-3.4.1-7" class="pilcrow">¶</a></p>
<span id="name-example-jwt_id-subject-iden"></span><div id="sub-id-jwtid">
<figure id="figure-3">
            <div id="section-3.4.1-8.1">
<pre class="lang-json sourcecode">
{
    "format": "jwt_id",
    "iss": "https://idp.example.com/123456789/",
    "jti": "B70BA622-9515-4353-A866-823539EECBC8"
}
</pre>
</div>
<figcaption><a href="#figure-3" class="selfRef">Figure 3</a>:
<a href="#name-example-jwt_id-subject-iden" class="selfRef">Example: 'jwt_id' Subject Identifier</a>
            </figcaption></figure>
</div>
</section>
</div>
<div id="sub-id-saml-assertion-id">
<section id="section-3.4.2">
          <h4 id="name-saml-assertion-id-subject-i">
<a href="#section-3.4.2" class="section-number selfRef">3.4.2. </a><a href="#name-saml-assertion-id-subject-i" class="section-name selfRef">SAML Assertion ID Subject Identifier Format</a>
          </h4>
<p id="section-3.4.2-1">The "SAML Assertion ID" Subject Identifier Format specifies a SAML 2.0
<span>[<a href="#OASIS.saml-core-2.0-os" class="xref">OASIS.saml-core-2.0-os</a>]</span> assertion identifier. Subject Identifiers of this
format MUST contain the following members:<a href="#section-3.4.2-1" class="pilcrow">¶</a></p>
<p id="section-3.4.2-2">issuer<a href="#section-3.4.2-2" class="pilcrow">¶</a></p>
<ul class="normal ulEmpty">
<li class="normal ulEmpty" id="section-3.4.2-3.1">
              <p id="section-3.4.2-3.1.1">REQUIRED. The "Issuer" value of the SAML assertion being identified, defined
  in <span>[<a href="#OASIS.saml-core-2.0-os" class="xref">OASIS.saml-core-2.0-os</a>]</span><a href="#section-3.4.2-3.1.1" class="pilcrow">¶</a></p>
</li>
          </ul>
<p id="section-3.4.2-4">assertion_id<a href="#section-3.4.2-4" class="pilcrow">¶</a></p>
<ul class="normal ulEmpty">
<li class="normal ulEmpty" id="section-3.4.2-5.1">
              <p id="section-3.4.2-5.1.1">REQUIRED. The "ID" value of the SAML assertion being identified, defined in
  <span>[<a href="#OASIS.saml-core-2.0-os" class="xref">OASIS.saml-core-2.0-os</a>]</span><a href="#section-3.4.2-5.1.1" class="pilcrow">¶</a></p>
</li>
          </ul>
<p id="section-3.4.2-6">The "SAML Assertion ID" Subject Identifier Format is identified by the name
"saml_assertion_id".<a href="#section-3.4.2-6" class="pilcrow">¶</a></p>
<p id="section-3.4.2-7">Below is a non-normative example Subject Identifier for the "saml_assertion_id"
Subject Identifier Format.<a href="#section-3.4.2-7" class="pilcrow">¶</a></p>
<span id="name-example-saml_assertion_id-s"></span><div id="sub-id-samlassertionid">
<figure id="figure-4">
            <div id="section-3.4.2-8.1">
<pre class="lang-json sourcecode">
{
    "format": "saml_assertion_id",
    "issuer": "https://idp.example.com/123456789/",
    "assertion_id": "_8e8dc5f69a98cc4c1ff3427e5ce34606fd672f91e6"
}

</pre>
</div>
<figcaption><a href="#figure-4" class="selfRef">Figure 4</a>:
<a href="#name-example-saml_assertion_id-s" class="selfRef">Example: 'saml_assertion_id' Subject Identifier</a>
            </figcaption></figure>
</div>
</section>
</div>
</section>
</div>
<div id="receiver-subject-processing">
<section id="section-3.5">
        <h3 id="name-receiver-subject-processing">
<a href="#section-3.5" class="section-number selfRef">3.5. </a><a href="#name-receiver-subject-processing" class="section-name selfRef">Receiver Subject Processing</a>
        </h3>
<p id="section-3.5-1">A SSF Receiver MUST make a best effort to process all members from a Subject in
an SSF event. The Transmitter Configuration Metadata (<a href="#discovery-meta" class="xref">Section 6.1</a>) defined
below MAY define certain members within a Complex Subject to be Critical. A SSF
Receiver MUST discard any event that contains a Subject with a Critical member
that it is unable to process.<a href="#section-3.5-1" class="pilcrow">¶</a></p>
</section>
</div>
</section>
</div>
<div id="properties">
<section id="section-4">
      <h2 id="name-event-properties">
<a href="#section-4" class="section-number selfRef">4. </a><a href="#name-event-properties" class="section-name selfRef">Event Properties</a>
      </h2>
<p id="section-4-1">Additional members about an event may be included in the "events" claim. Some
of these members are required and specified as such in the respective event
types specs. If a Transmitter determines that it needs to include additional
members that are not specified in the event types spec, then the name of such
members MUST be a URI. The discoverability of all additional members is
specified in the Discovery <a href="#discovery" class="xref">Section 6</a> section.<a href="#section-4-1" class="pilcrow">¶</a></p>
</section>
</div>
<div id="events-examples">
<section id="section-5">
      <h2 id="name-example-sets-that-conform-t">
<a href="#section-5" class="section-number selfRef">5. </a><a href="#name-example-sets-that-conform-t" class="section-name selfRef">Example SETs that conform to the Shared Signals Framework</a>
      </h2>
<p id="section-5-1">The following are hypothetical examples of SETs that conform to the Shared Signals Framework.<a href="#section-5-1" class="pilcrow">¶</a></p>
<span id="name-example-set-containing-a-ss"></span><div id="subject-ids-ex-simple">
<figure id="figure-5">
        <div id="section-5-2.1">
<pre class="lang-json sourcecode">
{
  "iss": "https://idp.example.com/",
  "jti": "756E69717565206964656E746966696572",
  "iat": 1520364019,
  "aud": "636C69656E745F6964",
  "events": {
    "https://schemas.openid.net/secevent/risc/event-type/account-enabled": {
      "subject": {
        "format": "email",
        "email": "foo@example.com"
      }
    }
  }
}
</pre>
</div>
<figcaption><a href="#figure-5" class="selfRef">Figure 5</a>:
<a href="#name-example-set-containing-a-ss" class="selfRef">Example: SET Containing a SSF Event with a Simple Subject Member</a>
        </figcaption></figure>
</div>
<span id="name-example-set-containing-a-ssf"></span><div id="subject-ids-ex-complex">
<figure id="figure-6">
        <div id="section-5-3.1">
<pre class="lang-json sourcecode">
{
  "iss": "https://idp.example.com/",
  "jti": "756E69717565206964656E746966696572",
  "iat": 1520364019,
  "aud": "636C69656E745F6964",
  "events": {
    "https://schemas.openid.net/secevent/caep/event-type/session-revoked": {
      "subject": {
          "format": "complex",
          "user": {
              "format": "iss_sub",
              "iss": "https://idp.example.com/3957ea72-1b66-44d6-a044-d805712b9288/",
              "sub": "jane.smith@example.com"
          },
          "device": {
              "format": "iss_sub",
              "iss": "https://idp.example.com/3957ea72-1b66-44d6-a044-d805712b9288/",
              "sub": "e9297990-14d2-42ec-a4a9-4036db86509a"
          }
      },
      "initiating_entity": "policy",
      "reason_admin": "Policy Violation: C076E82F",
      "reason_user": "Landspeed violation.",
      "event_timestamp": 1600975810
    }
  }
}
</pre>
</div>
<figcaption><a href="#figure-6" class="selfRef">Figure 6</a>:
<a href="#name-example-set-containing-a-ssf" class="selfRef">Example: SET Containing a SSF Event with a Complex Subject Member</a>
        </figcaption></figure>
</div>
<span id="name-example-set-containing-a-ssf-"></span><div id="subject-properties-ex">
<figure id="figure-7">
        <div id="section-5-4.1">
<pre class="lang-json sourcecode">
{
  "iss": "https://sp.example2.com/",
  "jti": "756E69717565206964656E746966696572",
  "iat": 1520364019,
  "aud": "636C69656E745F6964",
  "events": {
    "https://schemas.openid.net/secevent/caep/event-type/token-claims-change": {
      "subject": {
        "format": "email",
        "email": "foo@example2.com"
      },
      "event_timestamp": 1600975810,
      "claims": {
         "role": "ro-admin"
      }
    }
  }
}
</pre>
</div>
<figcaption><a href="#figure-7" class="selfRef">Figure 7</a>:
<a href="#name-example-set-containing-a-ssf-" class="selfRef">Example: SET Containing a SSF Event with a Simple Subject and a Property Member</a>
        </figcaption></figure>
</div>
<span id="name-example-set-containing-a-ssf-e"></span><div id="subject-custom-type-ex">
<figure id="figure-8">
        <div id="section-5-5.1">
<pre class="lang-json sourcecode">
{
  "iss": "https://myservice.example3.com/",
  "jti": "756E69717565206964656E746966696534",
  "iat": 15203800012,
  "aud": "636C69656E745F6324",
  "events": {
    "https://schemas.openid.net/secevent/caep/event-type/token-claims-change": {
    "subject": {
        "format": "catalog_item",
        "catalog_id": "c0384/winter/2354122"
      },
      "event_timestamp": 1600975810,
      "claims": {
         "role": "ro-admin"
      }
    }
  }
}
</pre>
</div>
<figcaption><a href="#figure-8" class="selfRef">Figure 8</a>:
<a href="#name-example-set-containing-a-ssf-e" class="selfRef">Example: SET Containing a SSF Event with a Proprietary Subject Identifier Format</a>
        </figcaption></figure>
</div>
</section>
</div>
<div id="discovery">
<section id="section-6">
      <h2 id="name-transmitter-configuration-d">
<a href="#section-6" class="section-number selfRef">6. </a><a href="#name-transmitter-configuration-d" class="section-name selfRef">Transmitter Configuration Discovery</a>
      </h2>
<p id="section-6-1">This section defines a mechanism for Receivers to obtain Transmitter
configuration information.<a href="#section-6-1" class="pilcrow">¶</a></p>
<div id="discovery-meta">
<section id="section-6.1">
        <h3 id="name-transmitter-configuration-m">
<a href="#section-6.1" class="section-number selfRef">6.1. </a><a href="#name-transmitter-configuration-m" class="section-name selfRef">Transmitter Configuration Metadata</a>
        </h3>
<p id="section-6.1-1">Transmitters have metadata describing their configuration:<a href="#section-6.1-1" class="pilcrow">¶</a></p>
<p id="section-6.1-2">issuer<a href="#section-6.1-2" class="pilcrow">¶</a></p>
<ul class="normal ulEmpty">
<li class="normal ulEmpty" id="section-6.1-3.1">
            <p id="section-6.1-3.1.1">REQUIRED. URL using the https scheme with no query or fragment component
  that the Transmitter asserts as its Issuer Identifier. This MUST be identical
  to the iss claim value in Security Event Tokens issued from this Transmitter.<a href="#section-6.1-3.1.1" class="pilcrow">¶</a></p>
</li>
        </ul>
<p id="section-6.1-4">jwks_uri<a href="#section-6.1-4" class="pilcrow">¶</a></p>
<ul class="normal ulEmpty">
<li class="normal ulEmpty" id="section-6.1-5.1">
            <p id="section-6.1-5.1.1">OPTIONAL. URL of the Transmitter's JSON Web Key Set <span>[<a href="#RFC7517" class="xref">RFC7517</a>]</span> document.
  This contains the signing key(s) the Receiver uses to validate signatures from
  the Transmitter. This value MUST be specified if the Transmitter intends to
  generate signed JWTs<a href="#section-6.1-5.1.1" class="pilcrow">¶</a></p>
</li>
        </ul>
<p id="section-6.1-6">delivery_methods_supported<a href="#section-6.1-6" class="pilcrow">¶</a></p>
<ul class="normal ulEmpty">
<li class="normal ulEmpty" id="section-6.1-7.1">
            <p id="section-6.1-7.1.1">RECOMMENDED. List of supported delivery method URIs.<a href="#section-6.1-7.1.1" class="pilcrow">¶</a></p>
</li>
        </ul>
<p id="section-6.1-8">configuration_endpoint<a href="#section-6.1-8" class="pilcrow">¶</a></p>
<ul class="normal ulEmpty">
<li class="normal ulEmpty" id="section-6.1-9.1">
            <p id="section-6.1-9.1.1">OPTIONAL. The URL of the Configuration Endpoint.<a href="#section-6.1-9.1.1" class="pilcrow">¶</a></p>
</li>
        </ul>
<p id="section-6.1-10">status_endpoint<a href="#section-6.1-10" class="pilcrow">¶</a></p>
<ul class="normal ulEmpty">
<li class="normal ulEmpty" id="section-6.1-11.1">
            <p id="section-6.1-11.1.1">OPTIONAL. The URL of the Status Endpoint.<a href="#section-6.1-11.1.1" class="pilcrow">¶</a></p>
</li>
        </ul>
<p id="section-6.1-12">add_subject_endpoint<a href="#section-6.1-12" class="pilcrow">¶</a></p>
<ul class="normal ulEmpty">
<li class="normal ulEmpty" id="section-6.1-13.1">
            <p id="section-6.1-13.1.1">OPTIONAL. The URL of the Add Subject Endpoint.<a href="#section-6.1-13.1.1" class="pilcrow">¶</a></p>
</li>
        </ul>
<p id="section-6.1-14">remove_subject_endpoint<a href="#section-6.1-14" class="pilcrow">¶</a></p>
<ul class="normal ulEmpty">
<li class="normal ulEmpty" id="section-6.1-15.1">
            <p id="section-6.1-15.1.1">OPTIONAL. The URL of the Remove Subject Endpoint.<a href="#section-6.1-15.1.1" class="pilcrow">¶</a></p>
</li>
        </ul>
<p id="section-6.1-16">verification_endpoint<a href="#section-6.1-16" class="pilcrow">¶</a></p>
<ul class="normal ulEmpty">
<li class="normal ulEmpty" id="section-6.1-17.1">
            <p id="section-6.1-17.1.1">OPTIONAL. The URL of the Verification Endpoint.<a href="#section-6.1-17.1.1" class="pilcrow">¶</a></p>
</li>
        </ul>
<p id="section-6.1-18">critical_subject_members<a href="#section-6.1-18" class="pilcrow">¶</a></p>
<ul class="normal ulEmpty">
<li class="normal ulEmpty" id="section-6.1-19.1">
            <p id="section-6.1-19.1.1">OPTIONAL. List of member names in a Complex Subject which, if present in
  a Subject Member in an event, MUST be interpreted by a Receiver.<a href="#section-6.1-19.1.1" class="pilcrow">¶</a></p>
</li>
        </ul>
<p id="section-6.1-20">TODO: consider adding a IANA Registry for metadata, similar to Section 7.1.1 of
<span>[<a href="#OAUTH-DISCOVERY" class="xref">OAUTH-DISCOVERY</a>]</span>. This would allow other specs to add to the metadata.<a href="#section-6.1-20" class="pilcrow">¶</a></p>
</section>
</div>
<div id="obtaining-transmitter-configuration-information">
<section id="section-6.2">
        <h3 id="name-obtaining-transmitter-confi">
<a href="#section-6.2" class="section-number selfRef">6.2. </a><a href="#name-obtaining-transmitter-confi" class="section-name selfRef">Obtaining Transmitter Configuration Information</a>
        </h3>
<p id="section-6.2-1">Using the Issuer as documented by the Transmitter, the Transmitter Configuration
Information can be retrieved.<a href="#section-6.2-1" class="pilcrow">¶</a></p>
<p id="section-6.2-2">Transmitters supporting Discovery MUST make a JSON document available at the
path formed by inserting the string "/.well-known/ssf-configuration" into the
Issuer between the host component and the path component, if any. The syntax
and semantics of ".well-known" are defined in <span>[<a href="#RFC5785" class="xref">RFC5785</a>]</span>.  "ssf-configuration"
MUST point to a JSON document compliant with this specification and MUST be
returned using the "application/json" content type.<a href="#section-6.2-2" class="pilcrow">¶</a></p>
<div id="transmitter-configuration-request">
<section id="section-6.2.1">
          <h4 id="name-transmitter-configuration-r">
<a href="#section-6.2.1" class="section-number selfRef">6.2.1. </a><a href="#name-transmitter-configuration-r" class="section-name selfRef">Transmitter Configuration Request</a>
          </h4>
<p id="section-6.2.1-1">A Transmitter Configuration Document MUST be queried using an HTTP "GET" request
at the previously specified path.<a href="#section-6.2.1-1" class="pilcrow">¶</a></p>
<p id="section-6.2.1-2">The Receiver would make the following request to the Issuer
"https://tr.example.com" to obtain its Configuration information, since the
Issuer contains no path component:<a href="#section-6.2.1-2" class="pilcrow">¶</a></p>
<span id="name-example-transmitter-configu"></span><div id="figdiscoveryrequest">
<figure id="figure-9">
            <div id="section-6.2.1-3.1">
<pre class="lang-http sourcecode">
GET /.well-known/ssf-configuration HTTP/1.1
Host: tr.example.com
</pre>
</div>
<figcaption><a href="#figure-9" class="selfRef">Figure 9</a>:
<a href="#name-example-transmitter-configu" class="selfRef">Example: Transmitter Configuration Request (without path)</a>
            </figcaption></figure>
</div>
<p id="section-6.2.1-4">If the  Issuer value contains a path component, any terminating "/" MUST be
removed before inserting "/.well-known/ssf-configuration" between the host
component and the path component. The Receiver would make the following request
to the Issuer "https://tr.example.com/issuer1" to obtain its Configuration
information, since the Issuer contains a path component:<a href="#section-6.2.1-4" class="pilcrow">¶</a></p>
<span id="name-example-transmitter-configur"></span><div id="figdiscoveryrequestpath">
<figure id="figure-10">
            <div id="section-6.2.1-5.1">
<pre class="lang-http sourcecode">
GET /.well-known/ssf-configuration/issuer1 HTTP/1.1
Host: tr.example.com
</pre>
</div>
<figcaption><a href="#figure-10" class="selfRef">Figure 10</a>:
<a href="#name-example-transmitter-configur" class="selfRef">Example: Transmitter Configuration Request (with path)</a>
            </figcaption></figure>
</div>
<p id="section-6.2.1-6">Using path components enables supporting multiple issuers per host. This is
required in some multi-tenant hosting configurations. This use of ".well-known"
is for supporting multiple issuers per host; unlike its use in <span>[<a href="#RFC5785" class="xref">RFC5785</a>]</span>, it
does not provide general information about the host.<a href="#section-6.2.1-6" class="pilcrow">¶</a></p>
</section>
</div>
<div id="backward-compatibility-for-risc-transmitters">
<section id="section-6.2.2">
          <h4 id="name-backward-compatibility-for-">
<a href="#section-6.2.2" class="section-number selfRef">6.2.2. </a><a href="#name-backward-compatibility-for-" class="section-name selfRef">Backward Compatibility for RISC Transmitters</a>
          </h4>
<p id="section-6.2.2-1">Existing RISC Transmitters MAY continue to use the path component
"/risc-configuration" instead of the path component "/ssf-configuration" in the
path for the Transmitter Configuration Metadata. New services supporting the
Shared Signals Framework SHOULD NOT use this location for publishing the
Transmitter Configuration Metadata. For example, the Transmitter Configuration
Metadata for the Transmitter "https://risc-tr.example.com" MAY be obtained by
making the following request:<a href="#section-6.2.2-1" class="pilcrow">¶</a></p>
<span id="name-example-transmitter-configura"></span><div id="figolddiscoveryrequest">
<figure id="figure-11">
            <div id="section-6.2.2-2.1">
<pre class="lang-http sourcecode">
GET /.well-known/risc-configuration HTTP/1.1
Host: risc-tr.example.com
</pre>
</div>
<figcaption><a href="#figure-11" class="selfRef">Figure 11</a>:
<a href="#name-example-transmitter-configura" class="selfRef">Example: Transmitter Configuration Request for RISC Transmitters</a>
            </figcaption></figure>
</div>
</section>
</div>
<div id="transmitter-configuration-response">
<section id="section-6.2.3">
          <h4 id="name-transmitter-configuration-re">
<a href="#section-6.2.3" class="section-number selfRef">6.2.3. </a><a href="#name-transmitter-configuration-re" class="section-name selfRef">Transmitter Configuration Response</a>
          </h4>
<p id="section-6.2.3-1">The response is a set of Claims about the Transmitter's configuration, including
all necessary endpoints and public key location information. A successful
response MUST use the 200 OK HTTP status code and return a JSON object using the
"application/json" content type that contains a set of Claims as its members
that are a subset of the Metadata values defined in <a href="#discovery-meta" class="xref">Section 6.1</a>. Other
Claims MAY also be returned.<a href="#section-6.2.3-1" class="pilcrow">¶</a></p>
<p id="section-6.2.3-2">Claims that return multiple values are represented as JSON arrays. Claims with
zero elements MUST be omitted from the response.<a href="#section-6.2.3-2" class="pilcrow">¶</a></p>
<p id="section-6.2.3-3">An error response uses the applicable HTTP status code value.<a href="#section-6.2.3-3" class="pilcrow">¶</a></p>
<span id="name-example-transmitter-configurat"></span><div id="figdiscoveryresponse">
<figure id="figure-12">
            <div id="section-6.2.3-4.1">
<pre class="lang-http sourcecode">
HTTP/1.1 200 OK
Content-Type: application/json

{
  "issuer":
    "https://tr.example.com",
  "jwks_uri":
    "https://tr.example.com/jwks.json",
  "delivery_methods_supported": [
    "urn:ietf:rfc:8935",
    "urn:ietf:rfc:8936"],
  "configuration_endpoint":
    "https://tr.example.com/ssf/mgmt/stream",
  "status_endpoint":
    "https://tr.example.com/ssf/mgmt/status",
  "add_subject_endpoint":
    "https://tr.example.com/ssf/mgmt/subject:add",
  "remove_subject_endpoint":
    "https://tr.example.com/ssf/mgmt/subject:remove",
  "verification_endpoint":
    "https://tr.example.com/ssf/mgmt/verification",
  "critical_subject_members": [ "tenant", "user" ]
}
</pre>
</div>
<figcaption><a href="#figure-12" class="selfRef">Figure 12</a>:
<a href="#name-example-transmitter-configurat" class="selfRef">Example: Transmitter Configuration Response</a>
            </figcaption></figure>
</div>
</section>
</div>
<div id="transmitter-configuration-validation">
<section id="section-6.2.4">
          <h4 id="name-transmitter-configuration-v">
<a href="#section-6.2.4" class="section-number selfRef">6.2.4. </a><a href="#name-transmitter-configuration-v" class="section-name selfRef">Transmitter Configuration Validation</a>
          </h4>
<p id="section-6.2.4-1">If any of the validation procedures defined in this specification fail, any
operations requiring the information that failed to correctly validate MUST be
aborted and the information that failed to validate MUST NOT be used.<a href="#section-6.2.4-1" class="pilcrow">¶</a></p>
<p id="section-6.2.4-2">The "issuer" value returned MUST be identical to the Issuer URL that was
directly used to retrieve the configuration information. This MUST also be
identical to the "iss" Claim value in Security Event Tokens issued from this
Transmitter.<a href="#section-6.2.4-2" class="pilcrow">¶</a></p>
</section>
</div>
</section>
</div>
</section>
</div>
<div id="management">
<section id="section-7">
      <h2 id="name-management-api-for-set-even">
<a href="#section-7" class="section-number selfRef">7. </a><a href="#name-management-api-for-set-even" class="section-name selfRef">Management API for SET Event Streams</a>
      </h2>
<p id="section-7-1">An Event Stream is an abstraction for how events are communicated from a
Transmitter to a Receiver. The Event Stream's configuration, which is jointly
managed by the Transmitter and Receiver, holds information about
what types of events will be sent from the Transmitter, as well as the mechanism by
which the Receiver can expect to receive the events. The Event Stream also keeps
track of what Subjects are of interest to the Receiver, and only events with those
Subjects are transmitted on the stream.<a href="#section-7-1" class="pilcrow">¶</a></p>
<p id="section-7-2">This section defines an HTTP API to be implemented by Event Transmitters
which can be used by Event Receivers to create and delete one or more Event Streams.
The API can also be used to query and update the Event Stream's configuration and status,
add and remove Subjects, and trigger verification for those streams.<a href="#section-7-2" class="pilcrow">¶</a></p>
<span id="name-event-stream-management-api"></span><div id="figintro">
<figure id="figure-13">
        <div class="alignLeft art-text artwork" id="section-7-3.1">
<pre>
+------------+                +------------+
|            | Stream Config  |            |
| Event      &lt;----------------+ Event      |
| Stream     |                | Receiver   |
| Management | Stream Status  |            |
| API        &lt;----------------+            |
|            |                |            |
|            | Add Subject    |            |
|            &lt;----------------+            |
|            |                |            |
|            | Remove Subject |            |
|            &lt;----------------+            |
|            |                |            |
|            | Stream Updated |            |
|            +----------------&gt;            |
|            |                |            |
|            | Verification   |            |
|            &lt;----------------+            |
|            |                |            |
+------------+                +------------+
</pre>
</div>
<figcaption><a href="#figure-13" class="selfRef">Figure 13</a>:
<a href="#name-event-stream-management-api" class="selfRef">Event Stream Management API</a>
        </figcaption></figure>
</div>
<p id="section-7-4">It is OPTIONAL for Transmitters to implement a Management API, but it is
RECOMMENDED that they implement it, especially the endpoints for querying the
Stream Status and for triggering Verification.<a href="#section-7-4" class="pilcrow">¶</a></p>
<div id="management-api">
<section id="section-7.1">
        <h3 id="name-event-stream-management">
<a href="#section-7.1" class="section-number selfRef">7.1. </a><a href="#name-event-stream-management" class="section-name selfRef">Event Stream Management</a>
        </h3>
<p id="section-7.1-1">Event Receivers manage how they receive events, and the subjects about which
they want to receive events over an Event Stream by making HTTP requests to
endpoints in the Event Stream Management API.<a href="#section-7.1-1" class="pilcrow">¶</a></p>
<p id="section-7.1-2">A Transmitter and Receiver MAY use the same Event Stream for updates about
multiple Subject Principals. The status of the Event Stream MAY be queried
and managed independently for each Subject Principal by Transmitters and
Receivers.<a href="#section-7.1-2" class="pilcrow">¶</a></p>
<p id="section-7.1-3">The Event Stream Management API is implemented by the Event Transmitter and
consists of the following endpoints:<a href="#section-7.1-3" class="pilcrow">¶</a></p>
<p id="section-7.1-4">Configuration Endpoint<a href="#section-7.1-4" class="pilcrow">¶</a></p>
<ul class="normal ulEmpty">
<li class="normal ulEmpty" id="section-7.1-5.1">
            <p id="section-7.1-5.1.1">An endpoint used to create and delete Event Streams, as well as read and
  update an Event Stream's current configuration.<a href="#section-7.1-5.1.1" class="pilcrow">¶</a></p>
</li>
        </ul>
<p id="section-7.1-6">Status Endpoint<a href="#section-7.1-6" class="pilcrow">¶</a></p>
<ul class="normal ulEmpty">
<li class="normal ulEmpty" id="section-7.1-7.1">
            <p id="section-7.1-7.1.1">An endpoint used to read and update an Event Stream's current status.<a href="#section-7.1-7.1.1" class="pilcrow">¶</a></p>
</li>
        </ul>
<p id="section-7.1-8">Add Subject Endpoint<a href="#section-7.1-8" class="pilcrow">¶</a></p>
<ul class="normal ulEmpty">
<li class="normal ulEmpty" id="section-7.1-9.1">
            <p id="section-7.1-9.1.1">An endpoint used to add subjects to an Event Stream.<a href="#section-7.1-9.1.1" class="pilcrow">¶</a></p>
</li>
        </ul>
<p id="section-7.1-10">Remove Subject Endpoint<a href="#section-7.1-10" class="pilcrow">¶</a></p>
<ul class="normal ulEmpty">
<li class="normal ulEmpty" id="section-7.1-11.1">
            <p id="section-7.1-11.1.1">An endpoint used to remove subjects from an Event Stream.<a href="#section-7.1-11.1.1" class="pilcrow">¶</a></p>
</li>
        </ul>
<p id="section-7.1-12">Verification Endpoint<a href="#section-7.1-12" class="pilcrow">¶</a></p>
<ul class="normal ulEmpty">
<li class="normal ulEmpty" id="section-7.1-13.1">
            <p id="section-7.1-13.1.1">An endpoint used to request the Event Transmitter transmit a Verification
  Event over an Event Stream.<a href="#section-7.1-13.1.1" class="pilcrow">¶</a></p>
</li>
        </ul>
<p id="section-7.1-14">An Event Transmitter MAY use the same URLs as endpoints for multiple Event
Receivers, provided that the Event Transmitter has some mechanism through which
they can identify the applicable set of Event Streams for any given request,
e.g. from authentication credentials. The definition of such mechanisms is
outside the scope of this specification.<a href="#section-7.1-14" class="pilcrow">¶</a></p>
<div id="stream-config">
<section id="section-7.1.1">
          <h4 id="name-stream-configuration">
<a href="#section-7.1.1" class="section-number selfRef">7.1.1. </a><a href="#name-stream-configuration" class="section-name selfRef">Stream Configuration</a>
          </h4>
<p id="section-7.1.1-1">An Event Stream's configuration is a collection of data, provided by both the
Transmitter and the Receiver, that describes the information being sent over
the Event Stream. It is represented as a JSON <span>[<a href="#RFC7159" class="xref">RFC7159</a>]</span> object with the
following properties:<a href="#section-7.1.1-1" class="pilcrow">¶</a></p>
<p id="section-7.1.1-2">stream_id<a href="#section-7.1.1-2" class="pilcrow">¶</a></p>
<ul class="normal ulEmpty">
<li class="normal ulEmpty" id="section-7.1.1-3.1">
              <p id="section-7.1.1-3.1.1"><strong>Transmitter-Supplied</strong>, A string that uniquely identifies the stream. Stream
  IDs MUST be unique per Reciever.  This value is generated by the Transmitter
  when the stream is created.<a href="#section-7.1.1-3.1.1" class="pilcrow">¶</a></p>
</li>
          </ul>
<p id="section-7.1.1-4">iss<a href="#section-7.1.1-4" class="pilcrow">¶</a></p>
<ul class="normal ulEmpty">
<li class="normal ulEmpty" id="section-7.1.1-5.1">
              <p id="section-7.1.1-5.1.1"><strong>Transmitter-Supplied</strong>, A URL using the https scheme with no query or
  fragment component that the Transmitter asserts as its Issuer Identifier. This
  MUST be identical to the "iss" Claim value in Security Event Tokens issued
  from this Transmitter.<a href="#section-7.1.1-5.1.1" class="pilcrow">¶</a></p>
</li>
          </ul>
<p id="section-7.1.1-6">aud<a href="#section-7.1.1-6" class="pilcrow">¶</a></p>
<ul class="normal ulEmpty">
<li class="normal ulEmpty" id="section-7.1.1-7.1">
              <p id="section-7.1.1-7.1.1"><strong>Transmitter-Supplied</strong>, A string or an array of strings containing an
  audience claim as defined in JSON Web Token (JWT)<span>[<a href="#RFC7519" class="xref">RFC7519</a>]</span> that identifies
  the Event Receiver(s) for the Event Stream. This property cannot be updated.
  If multiple Receivers are specified then the Transmitter SHOULD know that
  these Receivers are the same entity.<a href="#section-7.1.1-7.1.1" class="pilcrow">¶</a></p>
</li>
          </ul>
<p id="section-7.1.1-8">events_supported<a href="#section-7.1.1-8" class="pilcrow">¶</a></p>
<ul class="normal ulEmpty">
<li class="normal ulEmpty" id="section-7.1.1-9.1">
              <p id="section-7.1.1-9.1.1"><strong>Transmitter-Supplied</strong>, An array of URIs identifying the set of events
  supported by the Transmitter for this Receiver. If omitted, Event Transmitters
  SHOULD make this set available to the Event Receiver via some other means
  (e.g. publishing it in online documentation).<a href="#section-7.1.1-9.1.1" class="pilcrow">¶</a></p>
</li>
          </ul>
<p id="section-7.1.1-10">events_requested<a href="#section-7.1.1-10" class="pilcrow">¶</a></p>
<ul class="normal ulEmpty">
<li class="normal ulEmpty" id="section-7.1.1-11.1">
              <p id="section-7.1.1-11.1.1"><strong>Receiver-Supplied</strong>, An array of URIs identifying the set of events that
  the Receiver requested. A Receiver SHOULD request only the events that it
  understands and it can act on. This is configurable by the Receiver. A
  Transmitter MUST ignore any array values that it does not understand.<a href="#section-7.1.1-11.1.1" class="pilcrow">¶</a></p>
</li>
          </ul>
<p id="section-7.1.1-12">events_delivered<a href="#section-7.1.1-12" class="pilcrow">¶</a></p>
<ul class="normal ulEmpty">
<li class="normal ulEmpty" id="section-7.1.1-13.1">
              <p id="section-7.1.1-13.1.1"><strong>Transmitter-Supplied</strong>, An array of URIs which is the intersection of
  "events_supported" and "events_requested". These events MAY be delivered over
  the Event Stream. A Receiver MUST rely on the values received in this field
  to understand which event types it can expect from the Transmitter.<a href="#section-7.1.1-13.1.1" class="pilcrow">¶</a></p>
</li>
          </ul>
<p id="section-7.1.1-14">delivery<a href="#section-7.1.1-14" class="pilcrow">¶</a></p>
<ul class="normal ulEmpty">
<li class="normal ulEmpty" id="section-7.1.1-15.1">
              <p id="section-7.1.1-15.1.1">A JSON object containing a set of name/value pairs specifying configuration
  parameters for the SET delivery method. The actual delivery method is
  identified by the special key "method" with the value being a URI as defined
  in <a href="#delivery-meta" class="xref">Section 11.2.1</a>. The value of the "delivery" field contains two
  sub-fields:<a href="#section-7.1.1-15.1.1" class="pilcrow">¶</a></p>
</li>
          </ul>
<ul class="normal ulEmpty">
<li class="normal ulEmpty" id="section-7.1.1-16.1">
              <p id="section-7.1.1-16.1.1">method<a href="#section-7.1.1-16.1.1" class="pilcrow">¶</a></p>
</li>
          </ul>
<ul class="normal ulEmpty">
<li class="normal ulEmpty" id="section-7.1.1-17.1">
              <ul class="normal ulEmpty">
<li class="normal ulEmpty" id="section-7.1.1-17.1.1.1">
                  <p id="section-7.1.1-17.1.1.1.1"><strong>Receiver-Supplied</strong>, the specific delivery method to be used. This can be
    any one of "urn:ietf:rfc:8935" (push) or "urn:ietf:rfc:8936" (poll), but
    not both.<a href="#section-7.1.1-17.1.1.1.1" class="pilcrow">¶</a></p>
</li>
              </ul>
</li>
          </ul>
<ul class="normal ulEmpty">
<li class="normal ulEmpty" id="section-7.1.1-18.1">
              <p id="section-7.1.1-18.1.1">url<a href="#section-7.1.1-18.1.1" class="pilcrow">¶</a></p>
</li>
          </ul>
<ul class="normal ulEmpty">
<li class="normal ulEmpty" id="section-7.1.1-19.1">
              <ul class="normal ulEmpty">
<li class="normal ulEmpty" id="section-7.1.1-19.1.1.1">
                  <p id="section-7.1.1-19.1.1.1.1">The location at which the push or poll delivery will take place. If the
    <code>method</code> value is "urn:ietf:rfc:8935" (push), then this value MUST
    be supplied by the Receiver.  If the <code>method</code> value is
    "urn:ietf:rfc:8936" (poll), then this value MUST be supplied by the
    Transmitter.<a href="#section-7.1.1-19.1.1.1.1" class="pilcrow">¶</a></p>
</li>
              </ul>
</li>
          </ul>
<p id="section-7.1.1-20">min_verification_interval<a href="#section-7.1.1-20" class="pilcrow">¶</a></p>
<ul class="normal ulEmpty">
<li class="normal ulEmpty" id="section-7.1.1-21.1">
              <p id="section-7.1.1-21.1.1"><strong>Transmitter-Supplied</strong>, An integer indicating the minimum amount of time in
  seconds that must pass in between verification requests. If an Event Receiver
  submits verification requests more frequently than this, the Event Transmitter
  MAY respond with a 429 status code. An Event Transmitter SHOULD NOT respond
  with a 429 status code if an Event Receiver is not exceeding this frequency.<a href="#section-7.1.1-21.1.1" class="pilcrow">¶</a></p>
</li>
          </ul>
<p id="section-7.1.1-22">format<a href="#section-7.1.1-22" class="pilcrow">¶</a></p>
<ul class="normal ulEmpty">
<li class="normal ulEmpty" id="section-7.1.1-23.1">
              <p id="section-7.1.1-23.1.1"><strong>Receiver-Supplied</strong>, The Subject Identifier Format that the Receiver wants
  for the events. If not set then the Transmitter might decide to use a type
  that discloses more information than necessary.<a href="#section-7.1.1-23.1.1" class="pilcrow">¶</a></p>
</li>
          </ul>
<p id="section-7.1.1-24">TODO: consider adding a IANA Registry for stream configuration metadata, similar
to Section 7.1.1 of <span>[<a href="#OAUTH-DISCOVERY" class="xref">OAUTH-DISCOVERY</a>]</span>. This would allow other specs to add to
the stream configuration.<a href="#section-7.1.1-24" class="pilcrow">¶</a></p>
<div id="creating-a-stream">
<section id="section-7.1.1.1">
            <h5 id="name-creating-a-stream">
<a href="#section-7.1.1.1" class="section-number selfRef">7.1.1.1. </a><a href="#name-creating-a-stream" class="section-name selfRef">Creating a Stream</a>
            </h5>
<p id="section-7.1.1.1-1">In order to communicate events from a Transmitter to a Receiver, a Receiver
MUST first create an Event Stream. An Event Receiver creates a stream by making
an HTTP POST request to the Configuration Endpoint. On receiving a valid request
the Event Transmitter responds with a "201 Created" response containing a
<span><a href="#RFC7159" class="xref">JSON</a> [<a href="#RFC7159" class="xref">RFC7159</a>]</span> representation of the stream's configuration in the body.<a href="#section-7.1.1.1-1" class="pilcrow">¶</a></p>
<p id="section-7.1.1.1-2">The HTTP POST request MAY contain the Receiver-Supplied values of the Stream
Configuration (<a href="#stream-config" class="xref">Section 7.1.1</a>) object:<a href="#section-7.1.1.1-2" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-7.1.1.1-3.1">
                <code>events_requested</code><a href="#section-7.1.1.1-3.1" class="pilcrow">¶</a>
</li>
              <li class="normal" id="section-7.1.1.1-3.2">
                <code>delivery</code> : Note that in the case of the POLL method, the <code>url</code> value is
supplied by the Transmitter.<a href="#section-7.1.1.1-3.2" class="pilcrow">¶</a>
</li>
              <li class="normal" id="section-7.1.1.1-3.3">
                <code>format</code><a href="#section-7.1.1.1-3.3" class="pilcrow">¶</a>
</li>
            </ul>
<p id="section-7.1.1.1-4">If the request does not contain the <code>delivery</code> property, then the Transmitter
MUST assume that the <code>method</code> is "urn:ietf:rfc:8936" (poll). The
Transmitter MUST include a <code>delivery</code> property in the response with this
<code>method</code> property and a <code>url</code> property.<a href="#section-7.1.1.1-4" class="pilcrow">¶</a></p>
<p id="section-7.1.1.1-5">The following is a non-normative example request to create an Event Stream:<a href="#section-7.1.1.1-5" class="pilcrow">¶</a></p>
<span id="name-example-create-event-stream"></span><div id="figcreatestreamreq">
<figure id="figure-14">
              <div id="section-7.1.1.1-6.1">
<pre class="lang-http sourcecode">
POST /ssf/stream HTTP/1.1
Host: transmitter.example.com
Authorization: Bearer eyJ0b2tlbiI6ImV4YW1wbGUifQo=

{
  "delivery": {
    "method": "urn:ietf:rfc:8935",
    "url": "https://receiver.example.com/events"
  },
  "events_requested": [
    "urn:example:secevent:events:type_2",
    "urn:example:secevent:events:type_3",
    "urn:example:secevent:events:type_4"
  ]
}
</pre>
</div>
<figcaption><a href="#figure-14" class="selfRef">Figure 14</a>:
<a href="#name-example-create-event-stream" class="selfRef">Example: Create Event Stream Request</a>
              </figcaption></figure>
</div>
<p id="section-7.1.1.1-7">The following is a non-normative example response:<a href="#section-7.1.1.1-7" class="pilcrow">¶</a></p>
<span id="name-example-create-stream-respo"></span><div id="figcreatestreamresp">
<figure id="figure-15">
              <div id="section-7.1.1.1-8.1">
<pre class="lang-http sourcecode">
HTTP/1.1 200 OK
Content-Type: application/json

{
  "stream_id": "f67e39a0a4d34d56b3aa1bc4cff0069f",
  "iss": "https://tr.example.com",
  "aud": [
      "http://receiver.example.com/web",
      "http://receiver.example.com/mobile"
    ],
  "delivery": {
    "method": "urn:ietf:rfc:8935",
    "url": "https://receiver.example.com/events"
  },
  "events_supported": [
    "urn:example:secevent:events:type_1",
    "urn:example:secevent:events:type_2",
    "urn:example:secevent:events:type_3"
  ],
  "events_requested": [
    "urn:example:secevent:events:type_2",
    "urn:example:secevent:events:type_3",
    "urn:example:secevent:events:type_4"
  ],
  "events_delivered": [
    "urn:example:secevent:events:type_2",
    "urn:example:secevent:events:type_3"
  ]
}
</pre>
</div>
<figcaption><a href="#figure-15" class="selfRef">Figure 15</a>:
<a href="#name-example-create-stream-respo" class="selfRef">Example: Create Stream Response</a>
              </figcaption></figure>
</div>
<p id="section-7.1.1.1-9">Errors are signaled with HTTP status codes as follows:<a href="#section-7.1.1.1-9" class="pilcrow">¶</a></p>
<span id="name-create-stream-errors"></span><div id="tablecreatestream">
<table class="center" id="table-1">
              <caption>
<a href="#table-1" class="selfRef">Table 1</a>:
<a href="#name-create-stream-errors" class="selfRef">Create Stream Errors</a>
              </caption>
<thead>
                <tr>
                  <th class="text-left" rowspan="1" colspan="1">Code</th>
                  <th class="text-left" rowspan="1" colspan="1">Description</th>
                </tr>
              </thead>
              <tbody>
                <tr>
                  <td class="text-left" rowspan="1" colspan="1">400</td>
                  <td class="text-left" rowspan="1" colspan="1">if the request cannot be parsed</td>
                </tr>
                <tr>
                  <td class="text-left" rowspan="1" colspan="1">401</td>
                  <td class="text-left" rowspan="1" colspan="1">if authorization failed or it is missing</td>
                </tr>
                <tr>
                  <td class="text-left" rowspan="1" colspan="1">403</td>
                  <td class="text-left" rowspan="1" colspan="1">if the Event Receiver is not allowed to create a stream</td>
                </tr>
              </tbody>
            </table>
</div>
</section>
</div>
<div id="reading-a-streams-configuration">
<section id="section-7.1.1.2">
            <h5 id="name-reading-a-streams-configura">
<a href="#section-7.1.1.2" class="section-number selfRef">7.1.1.2. </a><a href="#name-reading-a-streams-configura" class="section-name selfRef">Reading a Stream's Configuration</a>
            </h5>
<p id="section-7.1.1.2-1">An Event Receiver gets the current configuration of a stream by making an HTTP
GET request to the Configuration Endpoint. On receiving a valid request the
Event Transmitter responds with a "200 OK" response containing a <span><a href="#RFC7159" class="xref">JSON</a> [<a href="#RFC7159" class="xref">RFC7159</a>]</span>
representation of the stream's configuration in the body.<a href="#section-7.1.1.2-1" class="pilcrow">¶</a></p>
<p id="section-7.1.1.2-2">The GET request MAY include the "stream_id" as a parameter in order to
identify the correct Event Stream. If the "stream_id" argument is missing,
then the Transmitter MUST return a list of the stream configurations available
to this Receiver. In the event that there are no Event Streams created, the
Transmitter MUST return an empty list.<a href="#section-7.1.1.2-2" class="pilcrow">¶</a></p>
<p id="section-7.1.1.2-3">The following is a non-normative example request to read an Event Stream's
configuration:<a href="#section-7.1.1.2-3" class="pilcrow">¶</a></p>
<span id="name-example-read-stream-configu"></span><div id="figreadconfigreq">
<figure id="figure-16">
              <div id="section-7.1.1.2-4.1">
<pre class="lang-http sourcecode">
GET /ssf/stream?stream_id=f67e39a0a4d34d56b3aa1bc4cff0069f HTTP/1.1
Host: transmitter.example.com
Authorization: Bearer eyJ0b2tlbiI6ImV4YW1wbGUifQo=
</pre>
</div>
<figcaption><a href="#figure-16" class="selfRef">Figure 16</a>:
<a href="#name-example-read-stream-configu" class="selfRef">Example: Read Stream Configuration Request</a>
              </figcaption></figure>
</div>
<p id="section-7.1.1.2-5">The following is a non-normative example response:<a href="#section-7.1.1.2-5" class="pilcrow">¶</a></p>
<span id="name-example-read-stream-configur"></span><div id="figreadconfigresp">
<figure id="figure-17">
              <div id="section-7.1.1.2-6.1">
<pre class="lang-http sourcecode">
HTTP/1.1 200 OK
Content-Type: application/json
Cache-Control: no-store

{
  "stream_id": "f67e39a0a4d34d56b3aa1bc4cff0069f",
  "iss": "https://tr.example.com",
  "aud": [
      "http://receiver.example.com/web",
      "http://receiver.example.com/mobile"
    ],
  "delivery": {
    "method": "urn:ietf:rfc:8935",
    "url": "https://receiver.example.com/events"
  },
  "events_supported": [
    "urn:example:secevent:events:type_1",
    "urn:example:secevent:events:type_2",
    "urn:example:secevent:events:type_3"
  ],
  "events_requested": [
    "urn:example:secevent:events:type_2",
    "urn:example:secevent:events:type_3",
    "urn:example:secevent:events:type_4"
  ],
  "events_delivered": [
    "urn:example:secevent:events:type_2",
    "urn:example:secevent:events:type_3"
  ]
}
</pre>
</div>
<figcaption><a href="#figure-17" class="selfRef">Figure 17</a>:
<a href="#name-example-read-stream-configur" class="selfRef">Example: Read Stream Configuration Response</a>
              </figcaption></figure>
</div>
<p id="section-7.1.1.2-7">The following is a non-normative example request to read an Event Stream's
configuration, with no "stream_id" indicated:<a href="#section-7.1.1.2-7" class="pilcrow">¶</a></p>
<span id="name-example-read-stream-configura"></span><div id="figreadconfigreqnostreamid">
<figure id="figure-18">
              <div id="section-7.1.1.2-8.1">
<pre class="lang-http sourcecode">
GET /ssf/stream HTTP/1.1
Host: transmitter.example.com
Authorization: Bearer eyJ0b2tlbiI6ImV4YW1wbGUifQo=
</pre>
</div>
<figcaption><a href="#figure-18" class="selfRef">Figure 18</a>:
<a href="#name-example-read-stream-configura" class="selfRef">Example: Read Stream Configuration Request</a>
              </figcaption></figure>
</div>
<p id="section-7.1.1.2-9">The following is a non-normative example response to a request with no "stream_id":<a href="#section-7.1.1.2-9" class="pilcrow">¶</a></p>
<span id="name-example-read-stream-configurat"></span><div id="figreadconfigrespnostreamidmanystreams">
<figure id="figure-19">
              <div id="section-7.1.1.2-10.1">
<pre class="breakable lang-http sourcecode">
HTTP/1.1 200 OK
Content-Type: application/json
Cache-Control: no-store

[
  {
    "stream_id": "f67e39a0a4d34d56b3aa1bc4cff0069f",
    "iss": "https://tr.example.com",
    "aud": [
        "http://receiver.example.com/web",
        "http://receiver.example.com/mobile"
      ],
    "delivery": {
      "method": "urn:ietf:rfc:8935",
      "url": "https://receiver.example.com/events"
    },
    "events_supported": [
      "urn:example:secevent:events:type_1",
      "urn:example:secevent:events:type_2",
      "urn:example:secevent:events:type_3"
    ],
    "events_requested": [
      "urn:example:secevent:events:type_2",
      "urn:example:secevent:events:type_3",
      "urn:example:secevent:events:type_4"
    ],
    "events_delivered": [
      "urn:example:secevent:events:type_2",
      "urn:example:secevent:events:type_3"
    ]
  },
  {
    "stream_id": "50b2d39934264897902c0581ba7c21a3",
    "iss": "https://tr.example.com",
    "aud": [
        "http://receiver.example.com/web",
        "http://receiver.example.com/mobile"
      ],
    "delivery": {
      "method": "urn:ietf:rfc:8935",
      "url": "https://receiver.example.com/events"
    },
    "events_supported": [
      "urn:example:secevent:events:type_1",
      "urn:example:secevent:events:type_2",
      "urn:example:secevent:events:type_3"
    ],
    "events_requested": [
      "urn:example:secevent:events:type_2",
      "urn:example:secevent:events:type_3",
      "urn:example:secevent:events:type_4"
    ],
    "events_delivered": [
      "urn:example:secevent:events:type_2",
      "urn:example:secevent:events:type_3"
    ]
  }
]
</pre>
</div>
<figcaption><a href="#figure-19" class="selfRef">Figure 19</a>:
<a href="#name-example-read-stream-configurat" class="selfRef">Example: Read Stream Configuration Response</a>
              </figcaption></figure>
</div>
<p id="section-7.1.1.2-11">The following is a non-normative example response to a request with no
"stream_id" when there is only one Event Stream configured:<a href="#section-7.1.1.2-11" class="pilcrow">¶</a></p>
<span id="name-example-read-stream-configurati"></span><div id="figreadconfigrespnostreamidonestream">
<figure id="figure-20">
              <div id="section-7.1.1.2-12.1">
<pre class="lang-http sourcecode">
HTTP/1.1 200 OK
Content-Type: application/json
Cache-Control: no-store

[
  {
    "stream_id": "f67e39a0a4d34d56b3aa1bc4cff0069f",
    "iss": "https://tr.example.com",
    "aud": [
        "http://receiver.example.com/web",
        "http://receiver.example.com/mobile"
      ],
    "delivery": {
      "method": "urn:ietf:rfc:8935",
      "url": "https://receiver.example.com/events"
    },
    "events_supported": [
      "urn:example:secevent:events:type_1",
      "urn:example:secevent:events:type_2",
      "urn:example:secevent:events:type_3"
    ],
    "events_requested": [
      "urn:example:secevent:events:type_2",
      "urn:example:secevent:events:type_3",
      "urn:example:secevent:events:type_4"
    ],
    "events_delivered": [
      "urn:example:secevent:events:type_2",
      "urn:example:secevent:events:type_3"
    ]
  }
]
</pre>
</div>
<figcaption><a href="#figure-20" class="selfRef">Figure 20</a>:
<a href="#name-example-read-stream-configurati" class="selfRef">Example: Read Stream Configuration Response</a>
              </figcaption></figure>
</div>
<p id="section-7.1.1.2-13">The following is a non-normative example response to a request with no "stream_id"
when there are no Event Streams configured:<a href="#section-7.1.1.2-13" class="pilcrow">¶</a></p>
<span id="name-example-read-stream-configuratio"></span><div id="figreadconfigrespnostreamidnostreams">
<figure id="figure-21">
              <div id="section-7.1.1.2-14.1">
<pre class="lang-http sourcecode">
HTTP/1.1 200 OK
Content-Type: application/json
Cache-Control: no-store

[]
</pre>
</div>
<figcaption><a href="#figure-21" class="selfRef">Figure 21</a>:
<a href="#name-example-read-stream-configuratio" class="selfRef">Example: Read Stream Configuration Response</a>
              </figcaption></figure>
</div>
<p id="section-7.1.1.2-15">Errors are signaled with HTTP status codes as follows:<a href="#section-7.1.1.2-15" class="pilcrow">¶</a></p>
<span id="name-read-stream-configuration-e"></span><div id="tabreadconfig">
<table class="center" id="table-2">
              <caption>
<a href="#table-2" class="selfRef">Table 2</a>:
<a href="#name-read-stream-configuration-e" class="selfRef">Read Stream Configuration Errors</a>
              </caption>
<thead>
                <tr>
                  <th class="text-left" rowspan="1" colspan="1">Code</th>
                  <th class="text-left" rowspan="1" colspan="1">Description</th>
                </tr>
              </thead>
              <tbody>
                <tr>
                  <td class="text-left" rowspan="1" colspan="1">401</td>
                  <td class="text-left" rowspan="1" colspan="1">if authorization failed or it is missing</td>
                </tr>
                <tr>
                  <td class="text-left" rowspan="1" colspan="1">403</td>
                  <td class="text-left" rowspan="1" colspan="1">if the Event Receiver is not allowed to read the stream configuration</td>
                </tr>
                <tr>
                  <td class="text-left" rowspan="1" colspan="1">404</td>
                  <td class="text-left" rowspan="1" colspan="1">if there is no Event Stream with the given "stream_id" for this Event Receiver</td>
                </tr>
              </tbody>
            </table>
</div>
</section>
</div>
<div id="updating-a-streams-configuration">
<section id="section-7.1.1.3">
            <h5 id="name-updating-a-streams-configur">
<a href="#section-7.1.1.3" class="section-number selfRef">7.1.1.3. </a><a href="#name-updating-a-streams-configur" class="section-name selfRef">Updating a Stream's Configuration</a>
            </h5>
<p id="section-7.1.1.3-1">An Event Receiver updates the current configuration of a stream by making an
HTTP PATCH request to the Configuration Endpoint. The PATCH body contains a
<span><a href="#RFC7159" class="xref">JSON</a> [<a href="#RFC7159" class="xref">RFC7159</a>]</span> representation of the stream configuration properties to change. On
receiving a valid request the Event Transmitter responds with a "200 OK"
response containing a <span><a href="#RFC7159" class="xref">JSON</a> [<a href="#RFC7159" class="xref">RFC7159</a>]</span> representation of the entire updated stream
configuration in the body.<a href="#section-7.1.1.3-1" class="pilcrow">¶</a></p>
<p id="section-7.1.1.3-2">The stream_id property MUST be present in the request. Other properties
MAY be present in the request. Any Receiver-Supplied property present in the
request MUST be updated by the Transmitter. Any properties missing in the
request MUST NOT be changed by the Transmitter.<a href="#section-7.1.1.3-2" class="pilcrow">¶</a></p>
<p id="section-7.1.1.3-3">Transmitter-Supplied properties beside the stream_id MAY be present,
but they MUST match the expected value. Missing Transmitter-Supplied
properties MUST be ignored by the Transmitter. The <code>events_delivered</code> property,
if present, MUST match the Transmitter's expected value before any updates are applied.<a href="#section-7.1.1.3-3" class="pilcrow">¶</a></p>
<p id="section-7.1.1.3-4">The following is a non-normative example request to replace an Event Stream's
configuration:<a href="#section-7.1.1.3-4" class="pilcrow">¶</a></p>
<span id="name-example-update-stream-confi"></span><div id="figupdateconfigreq">
<figure id="figure-22">
              <div id="section-7.1.1.3-5.1">
<pre class="lang-http sourcecode">
PATCH /ssf/stream HTTP/1.1
Host: transmitter.example.com
Authorization: Bearer eyJ0b2tlbiI6ImV4YW1wbGUifQo=

{
  "stream_id": "f67e39a0a4d34d56b3aa1bc4cff0069f",
  "iss": "https://tr.example.com",
  "events_requested": [
    "urn:example:secevent:events:type_2",
    "urn:example:secevent:events:type_3",
    "urn:example:secevent:events:type_4"
  ],
}
</pre>
</div>
<figcaption><a href="#figure-22" class="selfRef">Figure 22</a>:
<a href="#name-example-update-stream-confi" class="selfRef">Example: Update Stream Configuration Request</a>
              </figcaption></figure>
</div>
<p id="section-7.1.1.3-6">The following is a non-normative example response:<a href="#section-7.1.1.3-6" class="pilcrow">¶</a></p>
<span id="name-example-update-stream-config"></span><div id="figupdateconfigresp">
<figure id="figure-23">
              <div id="section-7.1.1.3-7.1">
<pre class="lang-http sourcecode">
HTTP/1.1 200 OK
Content-Type: application/json
Cache-Control: no-store

{
  "stream_id": "f67e39a0a4d34d56b3aa1bc4cff0069f",
  "iss": "https://tr.example.com",
  "aud": [
    "http://receiver.example.com/web",
    "http://receiver.example.com/mobile"
  ],
  "delivery": {
    "method": "urn:ietf:rfc:8935",
    "url": "https://receiver.example.com/events"
  },
  "events_supported": [
    "urn:example:secevent:events:type_1",
    "urn:example:secevent:events:type_2",
    "urn:example:secevent:events:type_3"
  ],
  "events_requested": [
    "urn:example:secevent:events:type_2",
    "urn:example:secevent:events:type_3",
    "urn:example:secevent:events:type_4"
  ],
  "events_delivered": [
    "urn:example:secevent:events:type_2",
    "urn:example:secevent:events:type_3"
  ]
}
</pre>
</div>
<figcaption><a href="#figure-23" class="selfRef">Figure 23</a>:
<a href="#name-example-update-stream-config" class="selfRef">Example: Update Stream Configuration Response</a>
              </figcaption></figure>
</div>
<p id="section-7.1.1.3-8">Pending conditions or errors are signaled with HTTP status codes as follows:<a href="#section-7.1.1.3-8" class="pilcrow">¶</a></p>
<span id="name-update-stream-configuration"></span><div id="tabupdateconfig">
<table class="center" id="table-3">
              <caption>
<a href="#table-3" class="selfRef">Table 3</a>:
<a href="#name-update-stream-configuration" class="selfRef">Update Stream Configuration Errors</a>
              </caption>
<thead>
                <tr>
                  <th class="text-left" rowspan="1" colspan="1">Code</th>
                  <th class="text-left" rowspan="1" colspan="1">Description</th>
                </tr>
              </thead>
              <tbody>
                <tr>
                  <td class="text-left" rowspan="1" colspan="1">202</td>
                  <td class="text-left" rowspan="1" colspan="1">if the update request has been accepted, but not processed. Receiver MAY try the same request later to get processing result.</td>
                </tr>
                <tr>
                  <td class="text-left" rowspan="1" colspan="1">400</td>
                  <td class="text-left" rowspan="1" colspan="1">if the request body cannot be parsed, a Transmitter-Supplied property is incorrect, or if the request is otherwise invalid</td>
                </tr>
                <tr>
                  <td class="text-left" rowspan="1" colspan="1">401</td>
                  <td class="text-left" rowspan="1" colspan="1">if authorization failed or it is missing</td>
                </tr>
                <tr>
                  <td class="text-left" rowspan="1" colspan="1">403</td>
                  <td class="text-left" rowspan="1" colspan="1">if the Event Receiver is not allowed to update the stream configuration</td>
                </tr>
                <tr>
                  <td class="text-left" rowspan="1" colspan="1">404</td>
                  <td class="text-left" rowspan="1" colspan="1">if there is no Event Stream with the given "stream_id" for this Event Receiver</td>
                </tr>
              </tbody>
            </table>
</div>
</section>
</div>
<div id="replacing-a-streams-configuration">
<section id="section-7.1.1.4">
            <h5 id="name-replacing-a-streams-configu">
<a href="#section-7.1.1.4" class="section-number selfRef">7.1.1.4. </a><a href="#name-replacing-a-streams-configu" class="section-name selfRef">Replacing a Stream's Configuration</a>
            </h5>
<p id="section-7.1.1.4-1">An Event Receiver replaces the current configuration of a stream by making an
HTTP PUT request to the Configuration Endpoint. The PUT body contains a JSON
<span>[<a href="#RFC7159" class="xref">RFC7159</a>]</span> representation of the new configuration. On receiving a valid
request the Event Transmitter responds with a "200 OK" response containing a
JSON <span>[<a href="#RFC7159" class="xref">RFC7159</a>]</span> representation of the updated stream configuration in the body.<a href="#section-7.1.1.4-1" class="pilcrow">¶</a></p>
<p id="section-7.1.1.4-2">The stream_id and the full set of Receiver-Supplied properties MUST be present
in the PUT body, not only the ones that are specifically intended to be changed.
Missing Receiver-Supplied properties MUST be interpreted as requested to be
deleted. Event Receivers MAY read the configuration first, modify the JSON
<span>[<a href="#RFC7159" class="xref">RFC7159</a>]</span> representation, then make a replacement request.<a href="#section-7.1.1.4-2" class="pilcrow">¶</a></p>
<p id="section-7.1.1.4-3">Transmitter-Supplied properties besides the stream_id MAY be present,
but they MUST match the expected value. Missing Transmitter-Supplied
properties MUST be ignored by the Transmitter. The <code>events_delivered</code> property,
if present, MUST match the Transmitter's expected value <em>before</em> any updates are applied.<a href="#section-7.1.1.4-3" class="pilcrow">¶</a></p>
<p id="section-7.1.1.4-4">The following is a non-normative example request to replace an Event Stream's
configuration:<a href="#section-7.1.1.4-4" class="pilcrow">¶</a></p>
<span id="name-example-replace-stream-conf"></span><div id="figreplaceconfigreq">
<figure id="figure-24">
              <div id="section-7.1.1.4-5.1">
<pre class="lang-http sourcecode">
PUT /ssf/stream HTTP/1.1
Host: transmitter.example.com
Authorization: Bearer eyJ0b2tlbiI6ImV4YW1wbGUifQo=

{
  "stream_id": "f67e39a0a4d34d56b3aa1bc4cff0069f",
  "iss": "https://tr.example.com",
  "aud": [
    "http://receiver.example.com/web",
    "http://receiver.example.com/mobile"
  ],
  "delivery": {
    "method": "urn:ietf:rfc:8935",
    "url": "https://receiver.example.com/events"
  },
  "events_requested": [
    "urn:example:secevent:events:type_2",
    "urn:example:secevent:events:type_3",
    "urn:example:secevent:events:type_4"
  ]
}
</pre>
</div>
<figcaption><a href="#figure-24" class="selfRef">Figure 24</a>:
<a href="#name-example-replace-stream-conf" class="selfRef">Example: Replace Stream Configuration Request</a>
              </figcaption></figure>
</div>
<p id="section-7.1.1.4-6">The following is a non-normative example response:<a href="#section-7.1.1.4-6" class="pilcrow">¶</a></p>
<span id="name-example-replace-stream-confi"></span><div id="figreplaceconfigresp">
<figure id="figure-25">
              <div id="section-7.1.1.4-7.1">
<pre class="lang-http sourcecode">
HTTP/1.1 200 OK
Content-Type: application/json
Cache-Control: no-store

{
  "stream_id": "f67e39a0a4d34d56b3aa1bc4cff0069f",
  "iss": "https://tr.example.com",
  "aud": [
    "http://receiver.example.com/web",
    "http://receiver.example.com/mobile"
  ],
  "delivery": {
    "method": "urn:ietf:rfc:8935",
    "url": "https://receiver.example.com/events"
  },
  "events_supported": [
    "urn:example:secevent:events:type_1",
    "urn:example:secevent:events:type_2",
    "urn:example:secevent:events:type_3"
  ],
  "events_requested": [
    "urn:example:secevent:events:type_2",
    "urn:example:secevent:events:type_3",
    "urn:example:secevent:events:type_4"
  ],
  "events_delivered": [
    "urn:example:secevent:events:type_2",
    "urn:example:secevent:events:type_3"
  ]
}
</pre>
</div>
<figcaption><a href="#figure-25" class="selfRef">Figure 25</a>:
<a href="#name-example-replace-stream-confi" class="selfRef">Example: Replace Stream Configuration Response</a>
              </figcaption></figure>
</div>
<p id="section-7.1.1.4-8">Pending conditions or errors are signaled with HTTP status codes as follows:<a href="#section-7.1.1.4-8" class="pilcrow">¶</a></p>
<span id="name-replace-stream-configuratio"></span><div id="tabreplaceconfig">
<table class="center" id="table-4">
              <caption>
<a href="#table-4" class="selfRef">Table 4</a>:
<a href="#name-replace-stream-configuratio" class="selfRef">Replace Stream Configuration Errors</a>
              </caption>
<thead>
                <tr>
                  <th class="text-left" rowspan="1" colspan="1">Code</th>
                  <th class="text-left" rowspan="1" colspan="1">Description</th>
                </tr>
              </thead>
              <tbody>
                <tr>
                  <td class="text-left" rowspan="1" colspan="1">202</td>
                  <td class="text-left" rowspan="1" colspan="1">if the replace request has been accepted, but not processed. Receiver MAY try the same request later in order to get processing result.</td>
                </tr>
                <tr>
                  <td class="text-left" rowspan="1" colspan="1">400</td>
                  <td class="text-left" rowspan="1" colspan="1">if the request body cannot be parsed, a Transmitter-Supplied property is incorrect, or if the request is otherwise invalid</td>
                </tr>
                <tr>
                  <td class="text-left" rowspan="1" colspan="1">401</td>
                  <td class="text-left" rowspan="1" colspan="1">if authorization failed or it is missing</td>
                </tr>
                <tr>
                  <td class="text-left" rowspan="1" colspan="1">403</td>
                  <td class="text-left" rowspan="1" colspan="1">if the Event Receiver is not allowed to replace the stream configuration</td>
                </tr>
                <tr>
                  <td class="text-left" rowspan="1" colspan="1">404</td>
                  <td class="text-left" rowspan="1" colspan="1">if there is no Event Stream with the given "stream_id" for this Event Receiver</td>
                </tr>
              </tbody>
            </table>
</div>
</section>
</div>
<div id="deleting-a-stream">
<section id="section-7.1.1.5">
            <h5 id="name-deleting-a-stream">
<a href="#section-7.1.1.5" class="section-number selfRef">7.1.1.5. </a><a href="#name-deleting-a-stream" class="section-name selfRef">Deleting a Stream</a>
            </h5>
<p id="section-7.1.1.5-1">An Event Receiver deletes a stream by making an HTTP DELETE request to the
Configuration Endpoint. On receiving a request the Event Transmitter responds
with an empty "204 No Content" response if the configuration was successfully removed.<a href="#section-7.1.1.5-1" class="pilcrow">¶</a></p>
<p id="section-7.1.1.5-2">The DELETE request MUST include the "stream_id" as a parameter in order to
identify the correct Event Stream.<a href="#section-7.1.1.5-2" class="pilcrow">¶</a></p>
<p id="section-7.1.1.5-3">The following is a non-normative example request to delete an Event Stream:<a href="#section-7.1.1.5-3" class="pilcrow">¶</a></p>
<span id="name-example-delete-stream-reque"></span><div id="figdeletestreamreq">
<figure id="figure-26">
              <div id="section-7.1.1.5-4.1">
<pre class="lang-http sourcecode">
DELETE /ssf/stream?stream_id=f67e39a0a4d34d56b3aa1bc4cff0069f HTTP/1.1
Host: transmitter.example.com
Authorization: Bearer eyJ0b2tlbiI6ImV4YW1wbGUifQo=
</pre>
</div>
<figcaption><a href="#figure-26" class="selfRef">Figure 26</a>:
<a href="#name-example-delete-stream-reque" class="selfRef">Example: Delete Stream Request</a>
              </figcaption></figure>
</div>
<p id="section-7.1.1.5-5">Errors are signaled with HTTP status codes as follows:<a href="#section-7.1.1.5-5" class="pilcrow">¶</a></p>
<span id="name-delete-stream-errors"></span><table class="center" id="table-5">
              <caption>
<a href="#table-5" class="selfRef">Table 5</a>:
<a href="#name-delete-stream-errors" class="selfRef">Delete Stream Errors</a>
              </caption>
<thead>
                <tr>
                  <th class="text-left" rowspan="1" colspan="1">Code</th>
                  <th class="text-left" rowspan="1" colspan="1">Description</th>
                </tr>
              </thead>
              <tbody>
                <tr>
                  <td class="text-left" rowspan="1" colspan="1">401</td>
                  <td class="text-left" rowspan="1" colspan="1">if authorization failed or it is missing</td>
                </tr>
                <tr>
                  <td class="text-left" rowspan="1" colspan="1">403</td>
                  <td class="text-left" rowspan="1" colspan="1">if the Event Receiver is not allowed to delete the stream</td>
                </tr>
                <tr>
                  <td class="text-left" rowspan="1" colspan="1">404</td>
                  <td class="text-left" rowspan="1" colspan="1">if there is no Event Stream with the given "stream_id" for this Event Receiver</td>
                </tr>
              </tbody>
            </table>
</section>
</div>
</section>
</div>
<div id="status">
<section id="section-7.1.2">
          <h4 id="name-stream-status">
<a href="#section-7.1.2" class="section-number selfRef">7.1.2. </a><a href="#name-stream-status" class="section-name selfRef">Stream Status</a>
          </h4>
<p id="section-7.1.2-1">Event Streams are managed independently. A Receiver MAY request that events from a
stream be interrupted by Updating the Stream Status (<a href="#updating-a-streams-status" class="xref">Section 7.1.2.2</a>).<a href="#section-7.1.2-1" class="pilcrow">¶</a></p>
<p id="section-7.1.2-2">A Transmitter MAY decide to enable, pause or disable updates from a stream
independently of an update request from a Receiver. If a Transmitter decides to
start or stop events for a stream then the Transmitter MUST do the following
according to the status of the stream.<a href="#section-7.1.2-2" class="pilcrow">¶</a></p>
<p id="section-7.1.2-3">If the stream is:<a href="#section-7.1.2-3" class="pilcrow">¶</a></p>
<p id="section-7.1.2-4">Enabled<a href="#section-7.1.2-4" class="pilcrow">¶</a></p>
<ul class="normal ulEmpty">
<li class="normal ulEmpty" id="section-7.1.2-5.1">
              <p id="section-7.1.2-5.1.1">the Transmitter MUST send a stream updated (<a href="#stream-updated-event" class="xref">Section 7.1.5</a>) event
  respectively to the Receiver within the Event Stream.<a href="#section-7.1.2-5.1.1" class="pilcrow">¶</a></p>
</li>
          </ul>
<p id="section-7.1.2-6">Paused<a href="#section-7.1.2-6" class="pilcrow">¶</a></p>
<ul class="normal ulEmpty">
<li class="normal ulEmpty" id="section-7.1.2-7.1">
              <p id="section-7.1.2-7.1.1">the Transmitter SHOULD send a stream updated (<a href="#stream-updated-event" class="xref">Section 7.1.5</a>) after the Event Stream is
  re-started. A Receiver MUST assume that events may have been lost during the
  time when the event stream was paused.<a href="#section-7.1.2-7.1.1" class="pilcrow">¶</a></p>
</li>
          </ul>
<p id="section-7.1.2-8">Disabled<a href="#section-7.1.2-8" class="pilcrow">¶</a></p>
<ul class="normal ulEmpty">
<li class="normal ulEmpty" id="section-7.1.2-9.1">
              <p id="section-7.1.2-9.1.1">the Transmitter MAY send a stream updated (<a href="#stream-updated-event" class="xref">Section 7.1.5</a>) after the Event Stream is
  re-enabled.<a href="#section-7.1.2-9.1.1" class="pilcrow">¶</a></p>
</li>
          </ul>
<div id="reading-a-streams-status">
<section id="section-7.1.2.1">
            <h5 id="name-reading-a-streams-status">
<a href="#section-7.1.2.1" class="section-number selfRef">7.1.2.1. </a><a href="#name-reading-a-streams-status" class="section-name selfRef">Reading a Stream's Status</a>
            </h5>
<p id="section-7.1.2.1-1">An Event Receiver checks the current status of an event stream by making an HTTP
GET request to the stream's Status Endpoint.<a href="#section-7.1.2.1-1" class="pilcrow">¶</a></p>
<p id="section-7.1.2.1-2">The Stream Status method takes the following parameters:<a href="#section-7.1.2.1-2" class="pilcrow">¶</a></p>
<p id="section-7.1.2.1-3">stream_id<a href="#section-7.1.2.1-3" class="pilcrow">¶</a></p>
<ul class="normal ulEmpty">
<li class="normal ulEmpty" id="section-7.1.2.1-4.1">
                <p id="section-7.1.2.1-4.1.1">REQUIRED. The stream whose status is being queried.<a href="#section-7.1.2.1-4.1.1" class="pilcrow">¶</a></p>
</li>
            </ul>
<p id="section-7.1.2.1-5">On receiving a valid request the Event Transmitter responds with a 200 OK
response containing a <span><a href="#RFC7159" class="xref">JSON</a> [<a href="#RFC7159" class="xref">RFC7159</a>]</span> object with the following attributes:<a href="#section-7.1.2.1-5" class="pilcrow">¶</a></p>
<p id="section-7.1.2.1-6">status<a href="#section-7.1.2.1-6" class="pilcrow">¶</a></p>
<ul class="normal ulEmpty">
<li class="normal ulEmpty" id="section-7.1.2.1-7.1">
                <p id="section-7.1.2.1-7.1.1">A string whose value MUST be one of the values described below.<a href="#section-7.1.2.1-7.1.1" class="pilcrow">¶</a></p>
</li>
            </ul>
<p id="section-7.1.2.1-8">reason<a href="#section-7.1.2.1-8" class="pilcrow">¶</a></p>
<ul class="normal ulEmpty">
<li class="normal ulEmpty" id="section-7.1.2.1-9.1">
                <p id="section-7.1.2.1-9.1.1">An OPTIONAL string whose value SHOULD express why the stream's status is set to
the current value.<a href="#section-7.1.2.1-9.1.1" class="pilcrow">¶</a></p>
</li>
            </ul>
<p id="section-7.1.2.1-10">The allowable "status" values are:<a href="#section-7.1.2.1-10" class="pilcrow">¶</a></p>
<p id="section-7.1.2.1-11">enabled<a href="#section-7.1.2.1-11" class="pilcrow">¶</a></p>
<ul class="normal ulEmpty">
<li class="normal ulEmpty" id="section-7.1.2.1-12.1">
                <p id="section-7.1.2.1-12.1.1">The Transmitter MUST transmit events over the stream, according to the
  stream's configured delivery method.<a href="#section-7.1.2.1-12.1.1" class="pilcrow">¶</a></p>
</li>
            </ul>
<p id="section-7.1.2.1-13">paused<a href="#section-7.1.2.1-13" class="pilcrow">¶</a></p>
<ul class="normal ulEmpty">
<li class="normal ulEmpty" id="section-7.1.2.1-14.1">
                <p id="section-7.1.2.1-14.1.1">The Transmitter MUST NOT transmit events over the stream. The transmitter
  will hold any events it would have transmitted while paused, and SHOULD
  transmit them when the stream's status becomes "enabled". If a Transmitter
  holds successive events that affect the same Subject Principal, then the
  Transmitter MUST make sure that those events are transmitted in the order of
  time that they were generated OR the Transmitter MUST send only the last events
  that do not require the previous events affecting the same Subject Principal to
  be processed by the Receiver, because the previous events are either cancelled
  by the later events or the previous events are outdated.<a href="#section-7.1.2.1-14.1.1" class="pilcrow">¶</a></p>
</li>
            </ul>
<p id="section-7.1.2.1-15">disabled<a href="#section-7.1.2.1-15" class="pilcrow">¶</a></p>
<ul class="normal ulEmpty">
<li class="normal ulEmpty" id="section-7.1.2.1-16.1">
                <p id="section-7.1.2.1-16.1.1">The Transmitter MUST NOT transmit events over the stream, and will not hold
  any events for later transmission.<a href="#section-7.1.2.1-16.1.1" class="pilcrow">¶</a></p>
</li>
            </ul>
<p id="section-7.1.2.1-17">The following is a non-normative example request to check an event stream's
status:<a href="#section-7.1.2.1-17" class="pilcrow">¶</a></p>
<span id="name-example-check-stream-status"></span><div id="figstatusreq">
<figure id="figure-27">
              <div id="section-7.1.2.1-18.1">
<pre class="lang-http sourcecode">
GET /ssf/status?stream_id=f67e39a0a4d34d56b3aa1bc4cff0069f HTTP/1.1
Host: transmitter.example.com
Authorization: Bearer zzzz
</pre>
</div>
<figcaption><a href="#figure-27" class="selfRef">Figure 27</a>:
<a href="#name-example-check-stream-status" class="selfRef">Example: Check Stream Status Request</a>
              </figcaption></figure>
</div>
<p id="section-7.1.2.1-19">The following is a non-normative example response:<a href="#section-7.1.2.1-19" class="pilcrow">¶</a></p>
<span id="name-example-check-stream-status-"></span><div id="figstatusresp">
<figure id="figure-28">
              <div id="section-7.1.2.1-20.1">
<pre class="lang-http sourcecode">
HTTP/1.1 200 OK
Content-Type: application/json
Cache-Control: no-store

{
  "status": "paused",
  "reason": "SYSTEM_DOWN_FOR_MAINTENANCE"
}
</pre>
</div>
<figcaption><a href="#figure-28" class="selfRef">Figure 28</a>:
<a href="#name-example-check-stream-status-" class="selfRef">Example: Check Stream Status Response</a>
              </figcaption></figure>
</div>
<p id="section-7.1.2.1-21">Errors are signaled with HTTP status codes as follows:<a href="#section-7.1.2.1-21" class="pilcrow">¶</a></p>
<span id="name-read-stream-status-errors"></span><div id="tabreadstatus">
<table class="center" id="table-6">
              <caption>
<a href="#table-6" class="selfRef">Table 6</a>:
<a href="#name-read-stream-status-errors" class="selfRef">Read Stream Status Errors</a>
              </caption>
<thead>
                <tr>
                  <th class="text-left" rowspan="1" colspan="1">Code</th>
                  <th class="text-left" rowspan="1" colspan="1">Description</th>
                </tr>
              </thead>
              <tbody>
                <tr>
                  <td class="text-left" rowspan="1" colspan="1">401</td>
                  <td class="text-left" rowspan="1" colspan="1">if authorization failed or it is missing</td>
                </tr>
                <tr>
                  <td class="text-left" rowspan="1" colspan="1">403</td>
                  <td class="text-left" rowspan="1" colspan="1">if the Event Receiver is not allowed to read the stream status</td>
                </tr>
                <tr>
                  <td class="text-left" rowspan="1" colspan="1">404</td>
                  <td class="text-left" rowspan="1" colspan="1">if there is no Event Stream with the given "stream_id" for this Event Receiver</td>
                </tr>
              </tbody>
            </table>
</div>
<p id="section-7.1.2.1-23">Examples:<a href="#section-7.1.2.1-23" class="pilcrow">¶</a></p>
<ol start="1" type="1" class="normal type-1" id="section-7.1.2.1-24">
<li id="section-7.1.2.1-24.1">If a Receiver makes a request with an invalid OAuth token, then the
Transmitter MUST respond with a 401 error status.<a href="#section-7.1.2.1-24.1" class="pilcrow">¶</a>
</li>
              <li id="section-7.1.2.1-24.2">If the Receiver presents a valid OAuth token, but the Transmitter policy
does not permit the Receiver from obtaining the status, then the Transmitter
MAY respond with a 403 error status.<a href="#section-7.1.2.1-24.2" class="pilcrow">¶</a>
</li>
              <li id="section-7.1.2.1-24.3">If the Receiver requests the status for a stream that does not exist then the
Transmitter MUST respond with a 404 error status.<a href="#section-7.1.2.1-24.3" class="pilcrow">¶</a>
</li>
            </ol>
</section>
</div>
<div id="updating-a-streams-status">
<section id="section-7.1.2.2">
            <h5 id="name-updating-a-streams-status">
<a href="#section-7.1.2.2" class="section-number selfRef">7.1.2.2. </a><a href="#name-updating-a-streams-status" class="section-name selfRef">Updating a Stream's Status</a>
            </h5>
<p id="section-7.1.2.2-1">An Event Receiver updates the current status of a stream by making an HTTP POST
request to the Status Endpoint. The POST body contains a <span><a href="#RFC7159" class="xref">JSON</a> [<a href="#RFC7159" class="xref">RFC7159</a>]</span> object
with the following fields:<a href="#section-7.1.2.2-1" class="pilcrow">¶</a></p>
<p id="section-7.1.2.2-2">stream_id<a href="#section-7.1.2.2-2" class="pilcrow">¶</a></p>
<ul class="normal ulEmpty">
<li class="normal ulEmpty" id="section-7.1.2.2-3.1">
                <p id="section-7.1.2.2-3.1.1">REQUIRED. The stream whose status is being updated.<a href="#section-7.1.2.2-3.1.1" class="pilcrow">¶</a></p>
</li>
            </ul>
<p id="section-7.1.2.2-4">status<a href="#section-7.1.2.2-4" class="pilcrow">¶</a></p>
<ul class="normal ulEmpty">
<li class="normal ulEmpty" id="section-7.1.2.2-5.1">
                <p id="section-7.1.2.2-5.1.1">REQUIRED. The new status of the Event Stream.<a href="#section-7.1.2.2-5.1.1" class="pilcrow">¶</a></p>
</li>
            </ul>
<p id="section-7.1.2.2-6">reason<a href="#section-7.1.2.2-6" class="pilcrow">¶</a></p>
<ul class="normal ulEmpty">
<li class="normal ulEmpty" id="section-7.1.2.2-7.1">
                <p id="section-7.1.2.2-7.1.1">OPTIONAL. A short text description that explains the reason for the change.<a href="#section-7.1.2.2-7.1.1" class="pilcrow">¶</a></p>
</li>
            </ul>
<p id="section-7.1.2.2-8">On receiving a valid request the Event Transmitter responds with a "200 OK"
response containing a <span><a href="#RFC7159" class="xref">JSON</a> [<a href="#RFC7159" class="xref">RFC7159</a>]</span> representation of the updated stream
status in the body, using the same fields as described in the request.<a href="#section-7.1.2.2-8" class="pilcrow">¶</a></p>
<p id="section-7.1.2.2-9">The following is a non-normative example request to update an Event Stream's
status:<a href="#section-7.1.2.2-9" class="pilcrow">¶</a></p>
<span id="name-example-update-stream-statu"></span><div id="figupdatestatusreq">
<figure id="figure-29">
              <div id="section-7.1.2.2-10.1">
<pre class="lang-http sourcecode">
POST /ssf/status HTTP/1.1
Host: transmitter.example.com
Authorization: Bearer eyJ0b2tlbiI6ImV4YW1wbGUifQo=

{
  "stream_id": "f67e39a0a4d34d56b3aa1bc4cff0069f",
  "status": "paused"
}
</pre>
</div>
<figcaption><a href="#figure-29" class="selfRef">Figure 29</a>:
<a href="#name-example-update-stream-statu" class="selfRef">Example: Update Stream Status Request Without Optional Fields</a>
              </figcaption></figure>
</div>
<p id="section-7.1.2.2-11">The following is a non-normative example of an Update Stream Status request with an
optional reason:<a href="#section-7.1.2.2-11" class="pilcrow">¶</a></p>
<span id="name-example-update-stream-status"></span><div id="figupdatestatuswithreasonreq">
<figure id="figure-30">
              <div id="section-7.1.2.2-12.1">
<pre class="lang-http sourcecode">
POST /ssf/status HTTP/1.1
Host: transmitter.example.com
Authorization: Bearer eyJ0b2tlbiI6ImV4YW1wbGUifQo=

{
  "stream_id": "f67e39a0a4d34d56b3aa1bc4cff0069f",
  "status": "paused",
  "reason": "Disabled by administrator action"
}
</pre>
</div>
<figcaption><a href="#figure-30" class="selfRef">Figure 30</a>:
<a href="#name-example-update-stream-status" class="selfRef">Example: Update Stream Status Request With Optional Reason</a>
              </figcaption></figure>
</div>
<p id="section-7.1.2.2-13">The following is a non-normative example response:<a href="#section-7.1.2.2-13" class="pilcrow">¶</a></p>
<span id="name-example-update-stream-status-"></span><div id="figupdatestatusresp">
<figure id="figure-31">
              <div id="section-7.1.2.2-14.1">
<pre class="lang-http sourcecode">
HTTP/1.1 200 OK
Content-Type: application/json
Cache-Control: no-store

{
  "stream_id": "f67e39a0a4d34d56b3aa1bc4cff0069f",
  "status": "paused"
}
</pre>
</div>
<figcaption><a href="#figure-31" class="selfRef">Figure 31</a>:
<a href="#name-example-update-stream-status-" class="selfRef">Example: Update Stream Status Response</a>
              </figcaption></figure>
</div>
<p id="section-7.1.2.2-15">Errors are signaled with HTTP status codes as follows:<a href="#section-7.1.2.2-15" class="pilcrow">¶</a></p>
<span id="name-update-stream-status-errors"></span><div id="tabupdatestatus">
<table class="center" id="table-7">
              <caption>
<a href="#table-7" class="selfRef">Table 7</a>:
<a href="#name-update-stream-status-errors" class="selfRef">Update Stream Status Errors</a>
              </caption>
<thead>
                <tr>
                  <th class="text-left" rowspan="1" colspan="1">Code</th>
                  <th class="text-left" rowspan="1" colspan="1">Description</th>
                </tr>
              </thead>
              <tbody>
                <tr>
                  <td class="text-left" rowspan="1" colspan="1">202</td>
                  <td class="text-left" rowspan="1" colspan="1">if the update request has been accepted, but not processed. Receiver MAY try the same request later in order to get processing result.</td>
                </tr>
                <tr>
                  <td class="text-left" rowspan="1" colspan="1">400</td>
                  <td class="text-left" rowspan="1" colspan="1">if the request body cannot be parsed or if the request is otherwise invalid</td>
                </tr>
                <tr>
                  <td class="text-left" rowspan="1" colspan="1">401</td>
                  <td class="text-left" rowspan="1" colspan="1">if authorization failed or it is missing</td>
                </tr>
                <tr>
                  <td class="text-left" rowspan="1" colspan="1">403</td>
                  <td class="text-left" rowspan="1" colspan="1">if the Event Receiver is not allowed to update the stream status</td>
                </tr>
                <tr>
                  <td class="text-left" rowspan="1" colspan="1">404</td>
                  <td class="text-left" rowspan="1" colspan="1">if there is no Event Stream with the given "stream_id" for this Event Receiver</td>
                </tr>
              </tbody>
            </table>
</div>
<p id="section-7.1.2.2-17">Example:<a href="#section-7.1.2.2-17" class="pilcrow">¶</a></p>
<ol start="1" type="1" class="normal type-1" id="section-7.1.2.2-18">
<li id="section-7.1.2.2-18.1">If a Receiver makes a request to update a stream status, and the Transmitter is
unable to decide whether or not to complete the request, then the Transmitter MUST
respond with a 202 status code.<a href="#section-7.1.2.2-18.1" class="pilcrow">¶</a>
</li>
            </ol>
</section>
</div>
</section>
</div>
<div id="subjects">
<section id="section-7.1.3">
          <h4 id="name-subjects">
<a href="#section-7.1.3" class="section-number selfRef">7.1.3. </a><a href="#name-subjects" class="section-name selfRef">Subjects</a>
          </h4>
<p id="section-7.1.3-1">An Event Receiver can indicate to an Event Transmitter whether or not the
receiver wants to receive events about a particular subject by "adding" or
"removing" that subject to the Event Stream, respectively.<a href="#section-7.1.3-1" class="pilcrow">¶</a></p>
<p id="section-7.1.3-2">If a Receiver adds a subject to a stream, the Transmitter SHOULD send any events
relating to the subject, which have event_types that the Receiver has subscribed to,
and both the stream and the subject are enabled. In the case of Simple Subjects,
two subjects match if they are exactly identical. For Complex Subjects, two subjects
match if, for all fields in the Complex Subject (i.e. <code>user</code>, <code>group</code>, <code>device</code>, etc.),
at least one of the following statements is true:<a href="#section-7.1.3-2" class="pilcrow">¶</a></p>
<ol start="1" type="1" class="normal type-1" id="section-7.1.3-3">
<li id="section-7.1.3-3.1">Subject 1's field is not defined<a href="#section-7.1.3-3.1" class="pilcrow">¶</a>
</li>
            <li id="section-7.1.3-3.2">Subject 2's field is not defined<a href="#section-7.1.3-3.2" class="pilcrow">¶</a>
</li>
            <li id="section-7.1.3-3.3">Subject 1's field is identical to Subject 2's field<a href="#section-7.1.3-3.3" class="pilcrow">¶</a>
</li>
          </ol>
<div id="adding-a-subject-to-a-stream">
<section id="section-7.1.3.1">
            <h5 id="name-adding-a-subject-to-a-strea">
<a href="#section-7.1.3.1" class="section-number selfRef">7.1.3.1. </a><a href="#name-adding-a-subject-to-a-strea" class="section-name selfRef">Adding a Subject to a Stream</a>
            </h5>
<p id="section-7.1.3.1-1">To add a subject to an Event Stream, the Event Receiver makes an HTTP POST
request to the Add Subject Endpoint, containing in the body a JSON object the
following claims:<a href="#section-7.1.3.1-1" class="pilcrow">¶</a></p>
<p id="section-7.1.3.1-2">stream_id<a href="#section-7.1.3.1-2" class="pilcrow">¶</a></p>
<ul class="normal ulEmpty">
<li class="normal ulEmpty" id="section-7.1.3.1-3.1">
                <p id="section-7.1.3.1-3.1.1">REQUIRED. The stream to which the subject is being added.<a href="#section-7.1.3.1-3.1.1" class="pilcrow">¶</a></p>
</li>
            </ul>
<p id="section-7.1.3.1-4">subject<a href="#section-7.1.3.1-4" class="pilcrow">¶</a></p>
<ul class="normal ulEmpty">
<li class="normal ulEmpty" id="section-7.1.3.1-5.1">
                <p id="section-7.1.3.1-5.1.1">REQUIRED. A Subject claim identifying the subject to be added.<a href="#section-7.1.3.1-5.1.1" class="pilcrow">¶</a></p>
</li>
            </ul>
<p id="section-7.1.3.1-6">verified<a href="#section-7.1.3.1-6" class="pilcrow">¶</a></p>
<ul class="normal ulEmpty">
<li class="normal ulEmpty" id="section-7.1.3.1-7.1">
                <p id="section-7.1.3.1-7.1.1">OPTIONAL.  A boolean value; when true, it indicates that the Event Receiver
  has verified the Subject claim. When false, it indicates that the Event
  Receiver has not verified the Subject claim. If omitted, Event Transmitters
  SHOULD assume that the subject has been verified.<a href="#section-7.1.3.1-7.1.1" class="pilcrow">¶</a></p>
</li>
            </ul>
<p id="section-7.1.3.1-8">On a successful response, the Event Transmitter responds with an empty "200 OK"
response.  The Event Transmitter MAY choose to silently ignore the request, for
example if the subject has previously indicated to the Transmitter that they do
not want events to be transmitted to the Event Receiver. In this case, the
transmitter MAY return an empty "200 OK" response or an appropriate error code.
See Security Considerations (<a href="#management-sec" class="xref">Section 9</a>).<a href="#section-7.1.3.1-8" class="pilcrow">¶</a></p>
<p id="section-7.1.3.1-9">The following is a non-normative example request to add a subject to a stream,
where the subject is identified by an Email Subject Identifier.<a href="#section-7.1.3.1-9" class="pilcrow">¶</a></p>
<span id="name-example-add-subject-request"></span><div id="figaddreq">
<figure id="figure-32">
              <div id="section-7.1.3.1-10.1">
<pre class="lang-http sourcecode">
POST /ssf/subjects:add HTTP/1.1
Host: transmitter.example.com
Authorization: Bearer eyJ0b2tlbiI6ImV4YW1wbGUifQo=

{
  "stream_id": "f67e39a0a4d34d56b3aa1bc4cff0069f",
  "subject": {
    "format": "email",
    "email": "example.user@example.com"
  },
  "verified": true
}
</pre>
</div>
<figcaption><a href="#figure-32" class="selfRef">Figure 32</a>:
<a href="#name-example-add-subject-request" class="selfRef">Example: Add Subject Request</a>
              </figcaption></figure>
</div>
<p id="section-7.1.3.1-11">The following is a non-normative example response to a successful request:<a href="#section-7.1.3.1-11" class="pilcrow">¶</a></p>
<span id="name-example-add-subject-respons"></span><div id="figaddresp">
<figure id="figure-33">
              <div id="section-7.1.3.1-12.1">
<pre class="lang-http sourcecode">
HTTP/1.1 200 OK
Server: transmitter.example.com
Cache-Control: no-store
</pre>
</div>
<figcaption><a href="#figure-33" class="selfRef">Figure 33</a>:
<a href="#name-example-add-subject-respons" class="selfRef">Example: Add Subject Response</a>
              </figcaption></figure>
</div>
<p id="section-7.1.3.1-13">Errors are signaled with HTTP status codes as follows:<a href="#section-7.1.3.1-13" class="pilcrow">¶</a></p>
<span id="name-add-subject-errors"></span><div id="tabadderr">
<table class="center" id="table-8">
              <caption>
<a href="#table-8" class="selfRef">Table 8</a>:
<a href="#name-add-subject-errors" class="selfRef">Add Subject Errors</a>
              </caption>
<thead>
                <tr>
                  <th class="text-left" rowspan="1" colspan="1">Code</th>
                  <th class="text-left" rowspan="1" colspan="1">Description</th>
                </tr>
              </thead>
              <tbody>
                <tr>
                  <td class="text-left" rowspan="1" colspan="1">400</td>
                  <td class="text-left" rowspan="1" colspan="1">if the request body cannot be parsed or if the request is otherwise invalid</td>
                </tr>
                <tr>
                  <td class="text-left" rowspan="1" colspan="1">401</td>
                  <td class="text-left" rowspan="1" colspan="1">if authorization failed or it is missing</td>
                </tr>
                <tr>
                  <td class="text-left" rowspan="1" colspan="1">403</td>
                  <td class="text-left" rowspan="1" colspan="1">if the Event Receiver is not allowed to add this particular subject, or not allowed to add in general</td>
                </tr>
                <tr>
                  <td class="text-left" rowspan="1" colspan="1">404</td>
                  <td class="text-left" rowspan="1" colspan="1">if there is no Event Stream with the given "stream_id" for this Event Receiver, or if the subject is not recognized by the Event Transmitter. The Event Transmitter may choose to stay silent in this second case and respond with "200"</td>
                </tr>
                <tr>
                  <td class="text-left" rowspan="1" colspan="1">429</td>
                  <td class="text-left" rowspan="1" colspan="1">if the Event Receiver is sending too many requests in a given amount of time</td>
                </tr>
              </tbody>
            </table>
</div>
</section>
</div>
<div id="removing-a-subject">
<section id="section-7.1.3.2">
            <h5 id="name-removing-a-subject">
<a href="#section-7.1.3.2" class="section-number selfRef">7.1.3.2. </a><a href="#name-removing-a-subject" class="section-name selfRef">Removing a Subject</a>
            </h5>
<p id="section-7.1.3.2-1">To remove a subject from an Event Stream, the Event Receiver makes an HTTP POST
request to the Remove Subject Endpoint, containing in the body a JSON object
with the following claims:<a href="#section-7.1.3.2-1" class="pilcrow">¶</a></p>
<p id="section-7.1.3.2-2">stream_id<a href="#section-7.1.3.2-2" class="pilcrow">¶</a></p>
<ul class="normal ulEmpty">
<li class="normal ulEmpty" id="section-7.1.3.2-3.1">
                <p id="section-7.1.3.2-3.1.1">REQUIRED. The stream from which the subject is being removed.<a href="#section-7.1.3.2-3.1.1" class="pilcrow">¶</a></p>
</li>
            </ul>
<p id="section-7.1.3.2-4">subject<a href="#section-7.1.3.2-4" class="pilcrow">¶</a></p>
<ul class="normal ulEmpty">
<li class="normal ulEmpty" id="section-7.1.3.2-5.1">
                <p id="section-7.1.3.2-5.1.1">REQUIRED. A Subject claim identifying the subject to be removed.<a href="#section-7.1.3.2-5.1.1" class="pilcrow">¶</a></p>
</li>
            </ul>
<p id="section-7.1.3.2-6">On a successful response, the Event Transmitter responds with a "204 No Content"
response.<a href="#section-7.1.3.2-6" class="pilcrow">¶</a></p>
<p id="section-7.1.3.2-7">The following is a non-normative example request where the subject is
identified by a Phone Number Subject Identifier:<a href="#section-7.1.3.2-7" class="pilcrow">¶</a></p>
<span id="name-example-remove-subject-requ"></span><div id="figremovereq">
<figure id="figure-34">
              <div id="section-7.1.3.2-8.1">
<pre class="lang-http sourcecode">
POST /ssf/subjects:remove HTTP/1.1
Host: transmitter.example.com
Authorization: Bearer eyJ0b2tlbiI6ImV4YW1wbGUifQo=

{
  "stream_id": "f67e39a0a4d34d56b3aa1bc4cff0069f",
  "subject": {
    "format": "phone",
    "phone_number": "+12065550123"
  }
}
</pre>
</div>
<figcaption><a href="#figure-34" class="selfRef">Figure 34</a>:
<a href="#name-example-remove-subject-requ" class="selfRef">Example: Remove Subject Request</a>
              </figcaption></figure>
</div>
<p id="section-7.1.3.2-9">The following is a non-normative example response to a successful request:<a href="#section-7.1.3.2-9" class="pilcrow">¶</a></p>
<span id="name-example-remove-subject-resp"></span><div id="figremoveresp">
<figure id="figure-35">
              <div id="section-7.1.3.2-10.1">
<pre class="lang-http sourcecode">
HTTP/1.1 204 No Content
Server: transmitter.example.com
Cache-Control: no-store
</pre>
</div>
<figcaption><a href="#figure-35" class="selfRef">Figure 35</a>:
<a href="#name-example-remove-subject-resp" class="selfRef">Example: Remove Subject Response</a>
              </figcaption></figure>
</div>
<p id="section-7.1.3.2-11">Errors are signaled with HTTP status codes as follows:<a href="#section-7.1.3.2-11" class="pilcrow">¶</a></p>
<span id="name-remove-subject-errors"></span><div id="tabremoveerr">
<table class="center" id="table-9">
              <caption>
<a href="#table-9" class="selfRef">Table 9</a>:
<a href="#name-remove-subject-errors" class="selfRef">Remove Subject Errors</a>
              </caption>
<thead>
                <tr>
                  <th class="text-left" rowspan="1" colspan="1">Code</th>
                  <th class="text-left" rowspan="1" colspan="1">Description</th>
                </tr>
              </thead>
              <tbody>
                <tr>
                  <td class="text-left" rowspan="1" colspan="1">400</td>
                  <td class="text-left" rowspan="1" colspan="1">if the request body cannot be parsed or if the request is otherwise invalid</td>
                </tr>
                <tr>
                  <td class="text-left" rowspan="1" colspan="1">401</td>
                  <td class="text-left" rowspan="1" colspan="1">if authorization failed or it is missing</td>
                </tr>
                <tr>
                  <td class="text-left" rowspan="1" colspan="1">403</td>
                  <td class="text-left" rowspan="1" colspan="1">if the Event Receiver is not allowed to remove this particular subject, or not allowed to remove in general</td>
                </tr>
                <tr>
                  <td class="text-left" rowspan="1" colspan="1">404</td>
                  <td class="text-left" rowspan="1" colspan="1">if there is no Event Stream with the given "stream_id" for this Event Receiver, or if the subject is not recognized by the Event Transmitter. The Event Transmitter may choose to stay silent in this second case and respond with "204"</td>
                </tr>
                <tr>
                  <td class="text-left" rowspan="1" colspan="1">429</td>
                  <td class="text-left" rowspan="1" colspan="1">if the Event Receiver is sending too many requests in a given amount of time</td>
                </tr>
              </tbody>
            </table>
</div>
</section>
</div>
</section>
</div>
<div id="verification">
<section id="section-7.1.4">
          <h4 id="name-verification">
<a href="#section-7.1.4" class="section-number selfRef">7.1.4. </a><a href="#name-verification" class="section-name selfRef">Verification</a>
          </h4>
<p id="section-7.1.4-1">In some cases, the frequency of event transmission on an Event Stream will be
very low, making it difficult for an Event Receiver to tell the difference
between expected behavior and event transmission failure due to a misconfigured
stream. Event Receivers can request that a verification event be transmitted
over the Event Stream, allowing the receiver to confirm that the stream is
configured correctly upon successful receipt of the event. The acknowledgment of
a Verification Event also confirms to the Event Transmitter that end-to-end
delivery is working, including signature verification and encryption.<a href="#section-7.1.4-1" class="pilcrow">¶</a></p>
<p id="section-7.1.4-2">An Event Transmitter MAY send a Verification Event at any time, even if one was
not requested by the Event Receiver.<a href="#section-7.1.4-2" class="pilcrow">¶</a></p>
<div id="verification-event">
<section id="section-7.1.4.1">
            <h5 id="name-verification-event">
<a href="#section-7.1.4.1" class="section-number selfRef">7.1.4.1. </a><a href="#name-verification-event" class="section-name selfRef">Verification Event</a>
            </h5>
<p id="section-7.1.4.1-1">The Verification Event is a standard SET with the following attributes:<a href="#section-7.1.4.1-1" class="pilcrow">¶</a></p>
<p id="section-7.1.4.1-2">event type<a href="#section-7.1.4.1-2" class="pilcrow">¶</a></p>
<ul class="normal ulEmpty">
<li class="normal ulEmpty" id="section-7.1.4.1-3.1">
                <p id="section-7.1.4.1-3.1.1">The Event Type URI is: "https://schemas.openid.net/secevent/ssf/event-type/verification".<a href="#section-7.1.4.1-3.1.1" class="pilcrow">¶</a></p>
</li>
            </ul>
<p id="section-7.1.4.1-4">state<a href="#section-7.1.4.1-4" class="pilcrow">¶</a></p>
<ul class="normal ulEmpty">
<li class="normal ulEmpty" id="section-7.1.4.1-5.1">
                <p id="section-7.1.4.1-5.1.1">OPTIONAL An opaque value provided by the Event Receiver when the event is
  triggered. This is a nested attribute in the event payload.<a href="#section-7.1.4.1-5.1.1" class="pilcrow">¶</a></p>
</li>
            </ul>
<p id="section-7.1.4.1-6">subject<a href="#section-7.1.4.1-6" class="pilcrow">¶</a></p>
<ul class="normal ulEmpty">
<li class="normal ulEmpty" id="section-7.1.4.1-7.1">
                <p id="section-7.1.4.1-7.1.1">REQUIRED. The value of the <code>subject</code> field in a Verification Event MUST always
  be set to have a simple value of type <code>opaque</code>. The <code>id</code> of the value MUST be
  the <code>stream_id</code> of the stream being verified.<a href="#section-7.1.4.1-7.1.1" class="pilcrow">¶</a></p>
</li>
            </ul>
<ul class="normal ulEmpty">
<li class="normal ulEmpty" id="section-7.1.4.1-8.1">
                <p id="section-7.1.4.1-8.1.1">Note that the subject that identifies a stream itself is always implicitly
  added to the stream and MAY NOT be removed from the stream.<a href="#section-7.1.4.1-8.1.1" class="pilcrow">¶</a></p>
</li>
            </ul>
<p id="section-7.1.4.1-9">Upon receiving a Verification Event, the Event Receiver SHALL parse the SET and
validate its claims. In particular, the Event Receiver SHALL confirm that the
value for "state" is as expected. If the value of "state" does not match, an
error response of "setData" SHOULD be returned (see Section 2.3 of
<span>[<a href="#DELIVERYPUSH" class="xref">DELIVERYPUSH</a>]</span> or <span>[<a href="#DELIVERYPOLL" class="xref">DELIVERYPOLL</a>]</span>).<a href="#section-7.1.4.1-9" class="pilcrow">¶</a></p>
<p id="section-7.1.4.1-10">In many cases, Event Transmitters MAY disable or suspend an Event Stream that
fails to successfully verify based on the acknowledgement or lack of
acknowledgement by the Event Receiver.<a href="#section-7.1.4.1-10" class="pilcrow">¶</a></p>
</section>
</div>
<div id="triggering-a-verification-event">
<section id="section-7.1.4.2">
            <h5 id="name-triggering-a-verification-e">
<a href="#section-7.1.4.2" class="section-number selfRef">7.1.4.2. </a><a href="#name-triggering-a-verification-e" class="section-name selfRef">Triggering a Verification Event.</a>
            </h5>
<p id="section-7.1.4.2-1">To request that a verification event be sent over an Event Stream, the Event
Receiver makes an HTTP POST request to the Verification Endpoint, with a <span><a href="#RFC7159" class="xref">JSON</a> [<a href="#RFC7159" class="xref">RFC7159</a>]</span> object containing the parameters of the verification request, if any.
On a successful request, the event transmitter responds with an empty
"204 No Content" response.<a href="#section-7.1.4.2-1" class="pilcrow">¶</a></p>
<p id="section-7.1.4.2-2">Verification requests have the following properties:<a href="#section-7.1.4.2-2" class="pilcrow">¶</a></p>
<p id="section-7.1.4.2-3">stream_id<a href="#section-7.1.4.2-3" class="pilcrow">¶</a></p>
<ul class="normal ulEmpty">
<li class="normal ulEmpty" id="section-7.1.4.2-4.1">
                <p id="section-7.1.4.2-4.1.1">REQUIRED. The stream that the verification event is being requested on.<a href="#section-7.1.4.2-4.1.1" class="pilcrow">¶</a></p>
</li>
            </ul>
<p id="section-7.1.4.2-5">state<a href="#section-7.1.4.2-5" class="pilcrow">¶</a></p>
<ul class="normal ulEmpty">
<li class="normal ulEmpty" id="section-7.1.4.2-6.1">
                <p id="section-7.1.4.2-6.1.1">OPTIONAL. An arbitrary string that the Event Transmitter MUST echo back to the
  Event Receiver in the verification event's payload. Event Receivers MAY use
  the value of this parameter to correlate a verification event with a
  verification request. If the verification event is initiated by the transmitter
  then this parameter MUST not be set.<a href="#section-7.1.4.2-6.1.1" class="pilcrow">¶</a></p>
</li>
            </ul>
<p id="section-7.1.4.2-7">A successful response from a POST to the Verification Endpoint does not indicate
that the verification event was transmitted successfully, only that the Event
Transmitter has transmitted the event or will do so at some point in the future.
Event Transmitters MAY transmit the event via an asynchronous process, and SHOULD
publish an SLA for verification event transmission times. Event Receivers MUST NOT
depend on the verification event being transmitted synchronously or in any
particular order relative to the current queue of events.<a href="#section-7.1.4.2-7" class="pilcrow">¶</a></p>
<p id="section-7.1.4.2-8">Errors are signaled with HTTP status codes as follows:<a href="#section-7.1.4.2-8" class="pilcrow">¶</a></p>
<span id="name-verification-errors"></span><div id="taberifyerr">
<table class="center" id="table-10">
              <caption>
<a href="#table-10" class="selfRef">Table 10</a>:
<a href="#name-verification-errors" class="selfRef">Verification Errors</a>
              </caption>
<thead>
                <tr>
                  <th class="text-left" rowspan="1" colspan="1">Code</th>
                  <th class="text-left" rowspan="1" colspan="1">Description</th>
                </tr>
              </thead>
              <tbody>
                <tr>
                  <td class="text-left" rowspan="1" colspan="1">400</td>
                  <td class="text-left" rowspan="1" colspan="1">if the request body cannot be parsed or if the request is otherwise invalid</td>
                </tr>
                <tr>
                  <td class="text-left" rowspan="1" colspan="1">401</td>
                  <td class="text-left" rowspan="1" colspan="1">if authorization failed or it is missing</td>
                </tr>
                <tr>
                  <td class="text-left" rowspan="1" colspan="1">404</td>
                  <td class="text-left" rowspan="1" colspan="1">if there is no Event Stream with the given "stream_id" for this Event Receiver</td>
                </tr>
                <tr>
                  <td class="text-left" rowspan="1" colspan="1">429</td>
                  <td class="text-left" rowspan="1" colspan="1">if the Event Receiver is sending too many requests in a given amount of time; see related "min_verification_interval" in <a href="#stream-config" class="xref">Section 7.1.1</a>
</td>
                </tr>
              </tbody>
            </table>
</div>
<p id="section-7.1.4.2-10">The following is a non-normative example request to trigger a verification event:<a href="#section-7.1.4.2-10" class="pilcrow">¶</a></p>
<span id="name-example-trigger-verificatio"></span><div id="figverifyreq">
<figure id="figure-36">
              <div id="section-7.1.4.2-11.1">
<pre class="lang-http sourcecode">
POST /ssf/verify HTTP/1.1
Host: transmitter.example.com
Authorization: Bearer eyJ0b2tlbiI6ImV4YW1wbGUifQo=
Content-Type: application/json

{
  "stream_id": "f67e39a0a4d34d56b3aa1bc4cff0069f",
  "state": "VGhpcyBpcyBhbiBleGFtcGxlIHN0YXRlIHZhbHVlLgo="
}
</pre>
</div>
<figcaption><a href="#figure-36" class="selfRef">Figure 36</a>:
<a href="#name-example-trigger-verificatio" class="selfRef">Example: Trigger Verification Request</a>
              </figcaption></figure>
</div>
<p id="section-7.1.4.2-12">The following is a non-normative example response to a successful request:<a href="#section-7.1.4.2-12" class="pilcrow">¶</a></p>
<span id="name-example-trigger-verification"></span><div id="figverifyresp">
<figure id="figure-37">
              <div id="section-7.1.4.2-13.1">
<pre class="lang-http sourcecode">
HTTP/1.1 204 No Content
Server: transmitter.example.com
Cache-Control: no-store
</pre>
</div>
<figcaption><a href="#figure-37" class="selfRef">Figure 37</a>:
<a href="#name-example-trigger-verification" class="selfRef">Example: Trigger Verification Response</a>
              </figcaption></figure>
</div>
<p id="section-7.1.4.2-14">And the following is a non-normative example of a verification event sent to the
Event Receiver as a result of the above request:<a href="#section-7.1.4.2-14" class="pilcrow">¶</a></p>
<span id="name-example-verification-set"></span><div id="figverifyset">
<figure id="figure-38">
              <div id="section-7.1.4.2-15.1">
<pre class="lang-json sourcecode">
{
  "jti": "123456",
  "iss": "https://transmitter.example.com",
  "aud": "receiver.example.com",
  "iat": 1493856000,
  "events": {
    "https://schemas.openid.net/secevent/ssf/event-type/verification":{
      "subject": {
        "format": "opaque",
        "id": "f67e39a0a4d34d56b3aa1bc4cff0069f"
      },
      "state": "VGhpcyBpcyBhbiBleGFtcGxlIHN0YXRlIHZhbHVlLgo="
    }
  }
}
</pre>
</div>
<figcaption><a href="#figure-38" class="selfRef">Figure 38</a>:
<a href="#name-example-verification-set" class="selfRef">Example: Verification SET</a>
              </figcaption></figure>
</div>
</section>
</div>
</section>
</div>
<div id="stream-updated-event">
<section id="section-7.1.5">
          <h4 id="name-stream-updated-event">
<a href="#section-7.1.5" class="section-number selfRef">7.1.5. </a><a href="#name-stream-updated-event" class="section-name selfRef">Stream Updated Event</a>
          </h4>
<p id="section-7.1.5-1">A Transmitter MAY change the stream status
without a request from a Receiver. The Transmitter sends an event of type
"https://schemas.openid.net/secevent/ssf/event-type/stream-updated" to indicate
that it has changed the status of the Event Stream.<a href="#section-7.1.5-1" class="pilcrow">¶</a></p>
<p id="section-7.1.5-2">If a Transmitter decides to change the status of an Event Stream from "enabled"
to either "paused" or "disabled", then the Transmitter MUST send this event to
any Receiver that is currently "enabled" to receive events from this stream.<a href="#section-7.1.5-2" class="pilcrow">¶</a></p>
<p id="section-7.1.5-3">If the Transmitter changes the status of the stream from either
"paused" or "disabled" to "enabled", then it MUST send this event to any
Receiver that has previously been enabled to receive events for the stream.<a href="#section-7.1.5-3" class="pilcrow">¶</a></p>
<p id="section-7.1.5-4">The "stream-updated" event MAY contain the following claims:<a href="#section-7.1.5-4" class="pilcrow">¶</a></p>
<p id="section-7.1.5-5">status<a href="#section-7.1.5-5" class="pilcrow">¶</a></p>
<ul class="normal ulEmpty">
<li class="normal ulEmpty" id="section-7.1.5-6.1">
              <p id="section-7.1.5-6.1.1">REQUIRED. Defines the new status of the stream.<a href="#section-7.1.5-6.1.1" class="pilcrow">¶</a></p>
</li>
          </ul>
<p id="section-7.1.5-7">reason<a href="#section-7.1.5-7" class="pilcrow">¶</a></p>
<ul class="normal ulEmpty">
<li class="normal ulEmpty" id="section-7.1.5-8.1">
              <p id="section-7.1.5-8.1.1">OPTIONAL. Provides a short description of why the Transmitter has updated the
  status.<a href="#section-7.1.5-8.1.1" class="pilcrow">¶</a></p>
</li>
          </ul>
<p id="section-7.1.5-9">subject<a href="#section-7.1.5-9" class="pilcrow">¶</a></p>
<ul class="normal ulEmpty">
<li class="normal ulEmpty" id="section-7.1.5-10.1">
              <p id="section-7.1.5-10.1.1">REQUIRED. Specifies the stream whose status has been updated.
  The value of the <code>subject</code> field
  MUST be of format <code>opaque</code>, and its <code>id</code> value MUST be the unique ID of the
  stream.<a href="#section-7.1.5-10.1.1" class="pilcrow">¶</a></p>
</li>
          </ul>
<ul class="normal ulEmpty">
<li class="normal ulEmpty" id="section-7.1.5-11.1">
              <p id="section-7.1.5-11.1.1">Note that the subject that identifies a stream itself is always implicitly
  added to the stream and MAY NOT be removed from the stream.<a href="#section-7.1.5-11.1.1" class="pilcrow">¶</a></p>
</li>
          </ul>
<ul class="normal ulEmpty">
<li class="normal ulEmpty" id="section-7.1.5-12.1">
              <p id="section-7.1.5-12.1.1">Below is a non-normative example of a <code>stream-updated</code> event.<a href="#section-7.1.5-12.1.1" class="pilcrow">¶</a></p>
</li>
          </ul>
<span id="name-example-stream-updated-set-"></span><div id="figstreamupdatedstreamset">
<figure id="figure-39">
            <div id="section-7.1.5-13.1">
<pre class="lang-json sourcecode">
{
  "jti": "123456",
  "iss": "https://transmitter.example.com",
  "aud": "receiver.example.com",
  "iat": 1493856000,
  "events": {
    "https://schemas.openid.net/secevent/ssf/event-type/stream-updated": {
      "subject": {
        "format": "opaque",
        "id" : "f67e39a0a4d34d56b3aa1bc4cff0069f"
      },
      "status": "paused",
      "reason": "Internal error"
    }
  }
}
</pre>
</div>
<figcaption><a href="#figure-39" class="selfRef">Figure 39</a>:
<a href="#name-example-stream-updated-set-" class="selfRef">Example: Stream Updated SET with stream as the subject of single-stream Transmitter</a>
            </figcaption></figure>
</div>
</section>
</div>
</section>
</div>
</section>
</div>
<div id="management-api-auth">
<section id="section-8">
      <h2 id="name-authorization">
<a href="#section-8" class="section-number selfRef">8. </a><a href="#name-authorization" class="section-name selfRef">Authorization</a>
      </h2>
<p id="section-8-1">HTTP API calls from a Receiver to a Transmitter SHOULD be authorized by
providing an OAuth 2.0 Access Token as defined by <span>[<a href="#RFC6750" class="xref">RFC6750</a>]</span>.<a href="#section-8-1" class="pilcrow">¶</a></p>
<p id="section-8-2">The receiver may obtain an access token using the Client
Credential Grant <span>[<a href="#CLIENTCRED" class="xref">CLIENTCRED</a>]</span>, or any other method suitable for the Receiver and the
Transmitter.<a href="#section-8-2" class="pilcrow">¶</a></p>
</section>
</div>
<div id="management-sec">
<section id="section-9">
      <h2 id="name-security-considerations">
<a href="#section-9" class="section-number selfRef">9. </a><a href="#name-security-considerations" class="section-name selfRef">Security Considerations</a>
      </h2>
<div id="management-sec-subject-probing">
<section id="section-9.1">
        <h3 id="name-subject-probing">
<a href="#section-9.1" class="section-number selfRef">9.1. </a><a href="#name-subject-probing" class="section-name selfRef">Subject Probing</a>
        </h3>
<p id="section-9.1-1">It may be possible for an Event Transmitter to leak information about subjects
through their responses to add subject requests. A "404" response may indicate
to the Event Receiver that the subject does not exist, which may inadvertently
reveal information about the subject (e.g. that a particular individual does or
does not use the Event Transmitter's service).<a href="#section-9.1-1" class="pilcrow">¶</a></p>
<p id="section-9.1-2">Event Transmitters SHOULD carefully evaluate the conditions under which they
will return error responses to add subject requests. Event Transmitters MAY
return a "204" response even if they will not actually send any events related
to the subject, and Event Receivers MUST NOT assume that a 204 response means
that they will receive events related to the subject.<a href="#section-9.1-2" class="pilcrow">¶</a></p>
</section>
</div>
<div id="management-sec-information-harvesting">
<section id="section-9.2">
        <h3 id="name-information-harvesting">
<a href="#section-9.2" class="section-number selfRef">9.2. </a><a href="#name-information-harvesting" class="section-name selfRef">Information Harvesting</a>
        </h3>
<p id="section-9.2-1">SETs may contain personally identifiable information (PII) or other non-public
information about the event transmitter, the subject (of an event in the SET),
or the relationship between the two. It is important for Event Transmitters to
understand what information they are revealing to Event Receivers when
transmitting events to them, lest the event stream become a vector for
unauthorized access to private information.<a href="#section-9.2-1" class="pilcrow">¶</a></p>
<p id="section-9.2-2">Event Transmitters SHOULD interpret add subject requests as statements of
interest in a subject by an Event Receiver, and ARE NOT obligated to transmit
events related to every subject an Event Receiver adds to the stream. Event
Transmitters MAY choose to transmit some, all, or no events related to any
given subject and SHOULD validate that they are permitted to share the
information contained within an event with the Event Receiver before
transmitting the event. The mechanisms by which such validation is performed
are outside the scope of this specification.<a href="#section-9.2-2" class="pilcrow">¶</a></p>
</section>
</div>
<div id="management-sec-malicious-subject-removal">
<section id="section-9.3">
        <h3 id="name-malicious-subject-removal">
<a href="#section-9.3" class="section-number selfRef">9.3. </a><a href="#name-malicious-subject-removal" class="section-name selfRef">Malicious Subject Removal</a>
        </h3>
<p id="section-9.3-1">A malicious party may find it advantageous to remove a particular subject from a
stream, in order to reduce the Event Receiver's ability to detect malicious
activity related to the subject, inconvenience the subject, or for other reasons.
Consequently it may be in the best interests of the subject for the Event
Transmitter to continue to send events related to the subject for some time after
the subject has been removed from a stream.<a href="#section-9.3-1" class="pilcrow">¶</a></p>
<p id="section-9.3-2">Event Transmitters MAY continue sending events related to a subject for some
amount of time after that subject has been removed from the stream. Event
Receivers MUST tolerate receiving events for subjects that have been removed
from the stream, and MUST NOT report these events as errors to the Event
Transmitter.<a href="#section-9.3-2" class="pilcrow">¶</a></p>
</section>
</div>
</section>
</div>
<div id="privacy-considerations">
<section id="section-10">
      <h2 id="name-privacy-considerations">
<a href="#section-10" class="section-number selfRef">10. </a><a href="#name-privacy-considerations" class="section-name selfRef">Privacy Considerations</a>
      </h2>
<div id="sub-info-leakage">
<section id="section-10.1">
        <h3 id="name-subject-information-leakage">
<a href="#section-10.1" class="section-number selfRef">10.1. </a><a href="#name-subject-information-leakage" class="section-name selfRef">Subject Information Leakage</a>
        </h3>
<p id="section-10.1-1">Event issuers and recipients SHOULD take precautions to ensure that they do not
leak information about subjects via Subject Identifiers, and choose appropriate
Subject Identifier Types accordingly. Parties SHOULD NOT identify a subject
using a given Subject Identifier Type if doing so will allow the recipient to
correlate different claims about the subject that they are not known to already
have knowledge of. Transmitters and Receivers SHOULD always use the same Subject
Identifier Type and the same claim values to identify a given subject when
communicating with a given party in order to reduce the possibility of
information leakage.<a href="#section-10.1-1" class="pilcrow">¶</a></p>
</section>
</div>
<div id="previously-consented-data">
<section id="section-10.2">
        <h3 id="name-previously-consented-data">
<a href="#section-10.2" class="section-number selfRef">10.2. </a><a href="#name-previously-consented-data" class="section-name selfRef">Previously Consented Data</a>
        </h3>
<p id="section-10.2-1">If SSF events contain new values for attributes of Subject Principals that were
previously exchanged between the Transmitter and Receiver, then there are no
additional privacy considerations introduced by providing the updated values in
the SSF events, unless the attribute was exchanged under a one-time consent
obtained from the user.<a href="#section-10.2-1" class="pilcrow">¶</a></p>
</section>
</div>
<div id="new-data">
<section id="section-10.3">
        <h3 id="name-new-data">
<a href="#section-10.3" class="section-number selfRef">10.3. </a><a href="#name-new-data" class="section-name selfRef">New Data</a>
        </h3>
<p id="section-10.3-1">Data that was not previously exchanged between the Transmitter and the Receiver,
or data whose consent to exchange has expired has the following considerations:<a href="#section-10.3-1" class="pilcrow">¶</a></p>
<div id="organizational-data">
<section id="section-10.3.1">
          <h4 id="name-organizational-data">
<a href="#section-10.3.1" class="section-number selfRef">10.3.1. </a><a href="#name-organizational-data" class="section-name selfRef">Organizational Data</a>
          </h4>
<p id="section-10.3.1-1">If a user has previously agreed with a Transmitter that they agree to release
certain data to third-parties, then the Transmitter MAY send such data in SSF
events without additional consent of the user. Such data MAY include
organizational data about the Subject Principal that was generated by the
Transmitter.<a href="#section-10.3.1-1" class="pilcrow">¶</a></p>
</section>
</div>
<div id="consentable-data">
<section id="section-10.3.2">
          <h4 id="name-consentable-data">
<a href="#section-10.3.2" class="section-number selfRef">10.3.2. </a><a href="#name-consentable-data" class="section-name selfRef">Consentable Data</a>
          </h4>
<p id="section-10.3.2-1">If a Transmitter intends to include data in SSF events that is not previously
consented to be released by the user, then the Transmitter MUST obtain consent
to release such data from the user in accordance with the Transmitter's privacy
policy.<a href="#section-10.3.2-1" class="pilcrow">¶</a></p>
</section>
</div>
</section>
</div>
</section>
</div>
<div id="profiles">
<section id="section-11">
      <h2 id="name-profiles">
<a href="#section-11" class="section-number selfRef">11. </a><a href="#name-profiles" class="section-name selfRef">Profiles</a>
      </h2>
<p id="section-11-1">This section is a profile of the following IETF SecEvent specifications:<a href="#section-11-1" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-11-2.1">Security Event Token (SET) <span>[<a href="#RFC8417" class="xref">RFC8417</a>]</span><a href="#section-11-2.1" class="pilcrow">¶</a>
</li>
        <li class="normal" id="section-11-2.2">Push-Based SET Token Delivery Using HTTP <span>[<a href="#DELIVERYPUSH" class="xref">DELIVERYPUSH</a>]</span><a href="#section-11-2.2" class="pilcrow">¶</a>
</li>
        <li class="normal" id="section-11-2.3">Poll-Based SET Token Delivery Using HTTP <span>[<a href="#DELIVERYPOLL" class="xref">DELIVERYPOLL</a>]</span><a href="#section-11-2.3" class="pilcrow">¶</a>
</li>
      </ul>
<p id="section-11-3">The RISC use cases that set the requirements are described in Security Events
RISC Use Cases <span>[<a href="#USECASES" class="xref">USECASES</a>]</span>.<a href="#section-11-3" class="pilcrow">¶</a></p>
<p id="section-11-4">The CAEP use cases that set the requirements are described in CAEP Use Cases (TODO: Add
        reference when file is added to repository.)<a href="#section-11-4" class="pilcrow">¶</a></p>
<div id="set-profle">
<section id="section-11.1">
        <h3 id="name-security-event-token-profil">
<a href="#section-11.1" class="section-number selfRef">11.1. </a><a href="#name-security-event-token-profil" class="section-name selfRef">Security Event Token Profile</a>
        </h3>
<p id="section-11.1-1">This section provides SSF profiling specifications for the Security Event Token (SET)
<span>[<a href="#RFC8417" class="xref">RFC8417</a>]</span> spec.<a href="#section-11.1-1" class="pilcrow">¶</a></p>
<div id="signature-key-resolution">
<section id="section-11.1.1">
          <h4 id="name-signature-key-resolution">
<a href="#section-11.1.1" class="section-number selfRef">11.1.1. </a><a href="#name-signature-key-resolution" class="section-name selfRef">Signature Key Resolution</a>
          </h4>
<p id="section-11.1.1-1">The signature key can be obtained through "jwks_uri", see <a href="#discovery" class="xref">Section 6</a>.<a href="#section-11.1.1-1" class="pilcrow">¶</a></p>
</section>
</div>
<div id="event-subjects">
<section id="section-11.1.2">
          <h4 id="name-ssf-event-subject">
<a href="#section-11.1.2" class="section-number selfRef">11.1.2. </a><a href="#name-ssf-event-subject" class="section-name selfRef">SSF Event Subject</a>
          </h4>
<p id="section-11.1.2-1">The subject of a SSF event is identified by the "subject" claim within the event
payload, whose value is a Subject Identifier. The "subject" claim is REQUIRED
for all SSF events. The JWT "sub" claim MUST NOT be present in any SET containing
a SSF event.<a href="#section-11.1.2-1" class="pilcrow">¶</a></p>
</section>
</div>
<div id="event-properties">
<section id="section-11.1.3">
          <h4 id="name-ssf-event-properties">
<a href="#section-11.1.3" class="section-number selfRef">11.1.3. </a><a href="#name-ssf-event-properties" class="section-name selfRef">SSF Event Properties</a>
          </h4>
<p id="section-11.1.3-1">The SSF event MAY contain additional claims within the event payload that are
specific to the event type.<a href="#section-11.1.3-1" class="pilcrow">¶</a></p>
<span id="name-example-set-containing-a-ri"></span><div id="risc-event-subject-example">
<figure id="figure-40">
            <div id="section-11.1.3-2.1">
<pre class="lang-json sourcecode">
{
  "iss": "https://idp.example.com/",
  "jti": "756E69717565206964656E746966696572",
  "iat": 1520364019,
  "aud": "636C69656E745F6964",
  "events": {
    "https://schemas.openid.net/secevent/risc/event-type/account-disabled": {
      "subject": {
        "format": "phone",
        "phone_number": "+1 206 555 0123"
      },
      "reason": "hijacking",
      "cause-time": 1508012752
    }
  }
}
</pre>
</div>
<figcaption><a href="#figure-40" class="selfRef">Figure 40</a>:
<a href="#name-example-set-containing-a-ri" class="selfRef">Example: SET Containing a RISC Event with a Phone Number Subject</a>
            </figcaption></figure>
</div>
<span id="name-example-set-containing-a-ca"></span><div id="caep-event-properties-example">
<figure id="figure-41">
            <div id="section-11.1.3-3.1">
<pre class="lang-json sourcecode">
{
  "iss": "https://idp.example.com/",
  "jti": "756E69717565206964656E746966696572",
  "iat": 1520364019,
  "aud": "636C69656E745F6964",
  "events": {
    "https://schemas.openid.net/secevent/caep/event-type/token-claims-changed": {
      "subject": {
        "format": "email",
        "email": "user@example.com"
      },
      "token": "some-token-value"
    }
  }
}
</pre>
</div>
<figcaption><a href="#figure-41" class="selfRef">Figure 41</a>:
<a href="#name-example-set-containing-a-ca" class="selfRef">Example: SET Containing a CAEP Event with Properties</a>
            </figcaption></figure>
</div>
</section>
</div>
<div id="explicit-typing">
<section id="section-11.1.4">
          <h4 id="name-explicit-typing-of-sets">
<a href="#section-11.1.4" class="section-number selfRef">11.1.4. </a><a href="#name-explicit-typing-of-sets" class="section-name selfRef">Explicit Typing of SETs</a>
          </h4>
<p id="section-11.1.4-1">SSF events MUST use explicit typing as defined in Section 2.3 of <span>[<a href="#RFC8417" class="xref">RFC8417</a>]</span>.<a href="#section-11.1.4-1" class="pilcrow">¶</a></p>
<span id="name-explicitly-typed-jose-heade"></span><div id="explicit-type-header">
<figure id="figure-42">
            <div id="section-11.1.4-2.1">
<pre class="lang-json sourcecode">
{
  "typ":"secevent+jwt",
  "alg":"HS256"
}
</pre>
</div>
<figcaption><a href="#figure-42" class="selfRef">Figure 42</a>:
<a href="#name-explicitly-typed-jose-heade" class="selfRef">Explicitly Typed JOSE Header</a>
            </figcaption></figure>
</div>
<p id="section-11.1.4-3">The purpose is defense against confusion with other JWTs, as described in
Sections 4.5, 4.6 and 4.7 of <span>[<a href="#RFC8417" class="xref">RFC8417</a>]</span>. While current Id Token <span>[<a href="#IDTOKEN" class="xref">IDTOKEN</a>]</span>
validators may not be using the "typ" header parameter, by requiring it for SSF
SETs a distinct value is guaranteed for future validators.<a href="#section-11.1.4-3" class="pilcrow">¶</a></p>
</section>
</div>
<div id="exp-claim">
<section id="section-11.1.5">
          <h4 id="name-the-exp-claim">
<a href="#section-11.1.5" class="section-number selfRef">11.1.5. </a><a href="#name-the-exp-claim" class="section-name selfRef">The "exp" Claim</a>
          </h4>
<p id="section-11.1.5-1">The "exp" claim MUST NOT be used in SSF SETs.<a href="#section-11.1.5-1" class="pilcrow">¶</a></p>
<p id="section-11.1.5-2">The purpose is defense in depth against confusion with other JWTs, as described
in Sections 4.5 and 4.6 of <span>[<a href="#RFC8417" class="xref">RFC8417</a>]</span>.<a href="#section-11.1.5-2" class="pilcrow">¶</a></p>
</section>
</div>
<div id="aud-claim">
<section id="section-11.1.6">
          <h4 id="name-the-aud-claim">
<a href="#section-11.1.6" class="section-number selfRef">11.1.6. </a><a href="#name-the-aud-claim" class="section-name selfRef">The "aud" Claim</a>
          </h4>
<p id="section-11.1.6-1">The "aud" claim can be a single value or an array. Each value SHOULD be the
OAuth 2.0 client ID. Other values that uniquely identifies the Receiver to the
Transmitter MAY be used, if the two parties have agreement on the format.<a href="#section-11.1.6-1" class="pilcrow">¶</a></p>
<p id="section-11.1.6-2">More than one value can be present if the corresponding Receivers are known to
the Transmitter to be the same entity, for example a web client and a mobile
client of the same application. All the Receivers in this case MUST use the
exact same delivery method.<a href="#section-11.1.6-2" class="pilcrow">¶</a></p>
<p id="section-11.1.6-3">If multiple Receivers have the exact same delivery configuration but the
Transmitter does not know if they belong to the same entity then the Transmitter
SHOULD issue distinct SETs for each Receiver and deliver them separately. In
this case the multiple Receivers might use the same service to process SETs, and
this service might reroute SETs to respective Receivers, an "aud" claim with
multiple Receivers would lead to unintended data disclosure.<a href="#section-11.1.6-3" class="pilcrow">¶</a></p>
<span id="name-example-set-with-array-aud-"></span><div id="figarrayaud">
<figure id="figure-43">
            <div id="section-11.1.6-4.1">
<pre class="lang-json sourcecode">
{
  "jti": "123456",
  "iss": "https://transmitter.example.com",
  "aud": ["receiver.example.com/web", "receiver.example.com/mobile"],
  "iat": 1493856000,
  "events": {
    "https://schemas.openid.net/secevent/ssf/event-type/verification": {
      "state": "VGhpcyBpcyBhbiBleGFtcGxlIHN0YXRlIHZhbHVlLgo="
    }
  }
}
</pre>
</div>
<figcaption><a href="#figure-43" class="selfRef">Figure 43</a>:
<a href="#name-example-set-with-array-aud-" class="selfRef">Example: SET with array 'aud' claim</a>
            </figcaption></figure>
</div>
</section>
</div>
<div id="events-claim">
<section id="section-11.1.7">
          <h4 id="name-the-events-claim">
<a href="#section-11.1.7" class="section-number selfRef">11.1.7. </a><a href="#name-the-events-claim" class="section-name selfRef">The "events" claim</a>
          </h4>
<p id="section-11.1.7-1">The "events" claim SHOULD contain only one event. Multiple event type URIs are
permitted only if they are alternative URIs defining the exact same event type.<a href="#section-11.1.7-1" class="pilcrow">¶</a></p>
</section>
</div>
<div id="security-considerations">
<section id="section-11.1.8">
          <h4 id="name-security-considerations-2">
<a href="#section-11.1.8" class="section-number selfRef">11.1.8. </a><a href="#name-security-considerations-2" class="section-name selfRef">Security Considerations</a>
          </h4>
<div id="distinguishing-sets-from-other-kinds-of-jwts">
<section id="section-11.1.8.1">
            <h5 id="name-distinguishing-sets-from-ot">
<a href="#section-11.1.8.1" class="section-number selfRef">11.1.8.1. </a><a href="#name-distinguishing-sets-from-ot" class="section-name selfRef">Distinguishing SETs from other Kinds of JWTs</a>
            </h5>
<p id="section-11.1.8.1-1">Of particular concern is the possibility that SETs are confused for other kinds
of JWTs. The Security Considerations section of <span>[<a href="#RFC8417" class="xref">RFC8417</a>]</span> has several sub-sections
on this subject. The Shared Signals Framework is asking for further restrictions:<a href="#section-11.1.8.1-1" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-11.1.8.1-2.1">The "sub" claim MUST NOT be present, as described in <a href="#event-subjects" class="xref">Section 11.1.2</a>.<a href="#section-11.1.8.1-2.1" class="pilcrow">¶</a>
</li>
              <li class="normal" id="section-11.1.8.1-2.2">SSF SETs MUST use explicit typing, as described in <a href="#explicit-typing" class="xref">Section 11.1.4</a>.<a href="#section-11.1.8.1-2.2" class="pilcrow">¶</a>
</li>
              <li class="normal" id="section-11.1.8.1-2.3">The "exp" claim MUST NOT be present, as described in <a href="#exp-claim" class="xref">Section 11.1.5</a>.<a href="#section-11.1.8.1-2.3" class="pilcrow">¶</a>
</li>
            </ul>
</section>
</div>
</section>
</div>
</section>
</div>
<div id="set-token-delivery-using-http-profile">
<section id="section-11.2">
        <h3 id="name-set-token-delivery-using-ht">
<a href="#section-11.2" class="section-number selfRef">11.2. </a><a href="#name-set-token-delivery-using-ht" class="section-name selfRef">SET Token Delivery Using HTTP Profile</a>
        </h3>
<p id="section-11.2-1">This section provides SSF profiling specifications for the <span>[<a href="#DELIVERYPUSH" class="xref">DELIVERYPUSH</a>]</span> and
<span>[<a href="#DELIVERYPOLL" class="xref">DELIVERYPOLL</a>]</span> specs.<a href="#section-11.2-1" class="pilcrow">¶</a></p>
<div id="delivery-meta">
<section id="section-11.2.1">
          <h4 id="name-stream-configuration-metada">
<a href="#section-11.2.1" class="section-number selfRef">11.2.1. </a><a href="#name-stream-configuration-metada" class="section-name selfRef">Stream Configuration Metadata</a>
          </h4>
<p id="section-11.2.1-1">Each delivery method is identified by a URI, specified below by the "method"
metadata.<a href="#section-11.2.1-1" class="pilcrow">¶</a></p>
<div id="push-delivery-using-http">
<section id="section-11.2.1.1">
            <h5 id="name-push-delivery-using-http">
<a href="#section-11.2.1.1" class="section-number selfRef">11.2.1.1. </a><a href="#name-push-delivery-using-http" class="section-name selfRef">Push Delivery using HTTP</a>
            </h5>
<p id="section-11.2.1.1-1">This section provides SSF profiling specifications for the <span>[<a href="#DELIVERYPUSH" class="xref">DELIVERYPUSH</a>]</span> spec.<a href="#section-11.2.1.1-1" class="pilcrow">¶</a></p>
<p id="section-11.2.1.1-2">method<a href="#section-11.2.1.1-2" class="pilcrow">¶</a></p>
<ul class="normal ulEmpty">
<li class="normal ulEmpty" id="section-11.2.1.1-3.1">
                <p id="section-11.2.1.1-3.1.1">"urn:ietf:rfc:8935"<a href="#section-11.2.1.1-3.1.1" class="pilcrow">¶</a></p>
</li>
            </ul>
<p id="section-11.2.1.1-4">url<a href="#section-11.2.1.1-4" class="pilcrow">¶</a></p>
<ul class="normal ulEmpty">
<li class="normal ulEmpty" id="section-11.2.1.1-5.1">
                <p id="section-11.2.1.1-5.1.1">The URL where events are pushed through HTTP POST. This is set by the
  Receiver. If a Reciever is using multiple streams from a single Transmitter
  and needs to keep the SETs separated, it is RECOMMENDED that the URL for each
  stream be unique.<a href="#section-11.2.1.1-5.1.1" class="pilcrow">¶</a></p>
</li>
            </ul>
<p id="section-11.2.1.1-6">authorization_header<a href="#section-11.2.1.1-6" class="pilcrow">¶</a></p>
<ul class="normal ulEmpty">
<li class="normal ulEmpty" id="section-11.2.1.1-7.1">
                <p id="section-11.2.1.1-7.1.1">The HTTP Authorization header that the Transmitter MUST set with each event
  delivery, if the configuration is present. The value is optional and it is set
  by the Receiver.<a href="#section-11.2.1.1-7.1.1" class="pilcrow">¶</a></p>
</li>
            </ul>
</section>
</div>
<div id="polling-delivery-using-http">
<section id="section-11.2.1.2">
            <h5 id="name-polling-delivery-using-http">
<a href="#section-11.2.1.2" class="section-number selfRef">11.2.1.2. </a><a href="#name-polling-delivery-using-http" class="section-name selfRef">Polling Delivery using HTTP</a>
            </h5>
<p id="section-11.2.1.2-1">This section provides SSF profiling specifications for the <span>[<a href="#DELIVERYPOLL" class="xref">DELIVERYPOLL</a>]</span> spec.<a href="#section-11.2.1.2-1" class="pilcrow">¶</a></p>
<p id="section-11.2.1.2-2">method<a href="#section-11.2.1.2-2" class="pilcrow">¶</a></p>
<ul class="normal ulEmpty">
<li class="normal ulEmpty" id="section-11.2.1.2-3.1">
                <p id="section-11.2.1.2-3.1.1">"urn:ietf:rfc:8936"<a href="#section-11.2.1.2-3.1.1" class="pilcrow">¶</a></p>
</li>
            </ul>
<p id="section-11.2.1.2-4">url<a href="#section-11.2.1.2-4" class="pilcrow">¶</a></p>
<ul class="normal ulEmpty">
<li class="normal ulEmpty" id="section-11.2.1.2-5.1">
                <p id="section-11.2.1.2-5.1.1">The URL where events can be retrieved from. This is specified by the
  Transmitter. These URLs MAY be reused across Receivers, but MUST be unique per
  stream for a given Receiver.<a href="#section-11.2.1.2-5.1.1" class="pilcrow">¶</a></p>
</li>
            </ul>
</section>
</div>
</section>
</div>
</section>
</div>
</section>
</div>
<div id="iana">
<section id="section-12">
      <h2 id="name-iana-considerations">
<a href="#section-12" class="section-number selfRef">12. </a><a href="#name-iana-considerations" class="section-name selfRef">IANA Considerations</a>
      </h2>
<p id="section-12-1">Subject Identifiers defined in this document will be added to the "Security
Events Subject Identifier Types" registry. This registry is defined in the
Subject Identifiers for Security Event Tokens <span>[<a href="#SUBIDS" class="xref">SUBIDS</a>]</span> specification.<a href="#section-12-1" class="pilcrow">¶</a></p>
</section>
</div>
<section id="section-13">
      <h2 id="name-references">
<a href="#section-13" class="section-number selfRef">13. </a><a href="#name-references" class="section-name selfRef">References</a>
      </h2>
<section id="section-13.1">
        <h3 id="name-normative-references">
<a href="#section-13.1" class="section-number selfRef">13.1. </a><a href="#name-normative-references" class="section-name selfRef">Normative References</a>
        </h3>
<dl class="references">
<dt id="CLIENTCRED">[CLIENTCRED]</dt>
        <dd>
<span class="refAuthor">Hardt, D.</span>, <span class="refTitle">"The OAuth 2.0 Authorization Framework - Client Credentials Grant"</span>, <span class="seriesInfo">DOI 10.17487/RFC6749</span>, <span class="seriesInfo">RFC 6749</span>, <time datetime="2012-10" class="refDate">October 2012</time>, <span>&lt;<a href="https://tools.ietf.org/html/rfc6749#section-4.4">https://tools.ietf.org/html/rfc6749#section-4.4</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="DELIVERYPOLL">[DELIVERYPOLL]</dt>
        <dd>
<span class="refAuthor">Backman, A.</span>, <span class="refAuthor">Jones, M.</span>, <span class="refAuthor">Scurtescu, M. S.</span>, <span class="refAuthor">Ansari, M.</span>, and <span class="refAuthor">A. Nadalin</span>, <span class="refTitle">"Poll-Based SET Token Delivery Using HTTP"</span>, <time datetime="2020-11" class="refDate">November 2020</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc8936">https://www.rfc-editor.org/info/rfc8936</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="DELIVERYPUSH">[DELIVERYPUSH]</dt>
        <dd>
<span class="refAuthor">Backman, A.</span>, <span class="refAuthor">Jones, M.</span>, <span class="refAuthor">Hunt, P.</span>, <span class="refAuthor">Scurtescu, M. S.</span>, <span class="refAuthor">Ansari, M.</span>, and <span class="refAuthor">A. Nadalin</span>, <span class="refTitle">"Push-Based SET Token Delivery Using HTTP"</span>, <time datetime="2020-11" class="refDate">November 2020</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc8935">https://www.rfc-editor.org/info/rfc8935</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="IDTOKEN">[IDTOKEN]</dt>
        <dd>
<span class="refAuthor">Sakimura, N.</span>, <span class="refAuthor">Bradley, J.</span>, <span class="refAuthor">Jones, M. B.</span>, <span class="refAuthor">de Medeiros, B.</span>, and <span class="refAuthor">C. Mortimore</span>, <span class="refTitle">"OpenID Connect Core 1.0 - ID Token"</span>, <time datetime="2017-04" class="refDate">April 2017</time>, <span>&lt;<a href="http://openid.net/specs/openid-connect-core-1_0.html#IDToken">http://openid.net/specs/openid-connect-core-1_0.html#IDToken</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="OASIS.saml-core-2.0-os">[OASIS.saml-core-2.0-os]</dt>
        <dd>
<span class="refAuthor">Cantor, S.</span>, <span class="refAuthor">Kemp, J.</span>, <span class="refAuthor">Philpott, R.</span>, and <span class="refAuthor">E. Maler</span>, <span class="refTitle">"Assertions and Protocol for the OASIS Security Assertion Markup Language (SAML) V2.0"</span>, <span class="seriesInfo">OASIS Standard saml-core-2.0-os</span>, <time datetime="2005-03" class="refDate">March 2005</time>. </dd>
<dd class="break"></dd>
<dt id="OAUTH-DISCOVERY">[OAUTH-DISCOVERY]</dt>
        <dd>
<span class="refAuthor">Jones, M. B.</span>, <span class="refAuthor">Sakimura, N.</span>, and <span class="refAuthor">J. Bradley</span>, <span class="refTitle">"OAuth 2.0 Authorization Server Metadata - Version 10"</span>, <time datetime="2018-06" class="refDate">June 2018</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc8414">https://www.rfc-editor.org/info/rfc8414</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="OPENID-DISCOVERY">[OPENID-DISCOVERY]</dt>
        <dd>
<span class="refAuthor">Sakimura, N.</span>, <span class="refAuthor">Bradley, J.</span>, <span class="refAuthor">Jones, M. B.</span>, and <span class="refAuthor">E. Jay</span>, <span class="refTitle">"OpenID Connect Discovery 1.0"</span>, <time datetime="2014-11" class="refDate">November 2014</time>, <span>&lt;<a href="https://openid.net/specs/openid-connect-discovery-1_0.html">https://openid.net/specs/openid-connect-discovery-1_0.html</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC2119">[RFC2119]</dt>
        <dd>
<span class="refAuthor">Bradner, S.</span>, <span class="refTitle">"Key words for use in RFCs to Indicate Requirement Levels"</span>, <span class="seriesInfo">BCP 14</span>, <span class="seriesInfo">RFC 2119</span>, <span class="seriesInfo">DOI 10.17487/RFC2119</span>, <time datetime="1997-03" class="refDate">March 1997</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc2119">https://www.rfc-editor.org/info/rfc2119</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC5785">[RFC5785]</dt>
        <dd>
<span class="refAuthor">Nottingham, M.</span> and <span class="refAuthor">E. Hammer-Lahav</span>, <span class="refTitle">"Defining Well-Known Uniform Resource Identifiers (URIs)"</span>, <span class="seriesInfo">RFC 5785</span>, <span class="seriesInfo">DOI 10.17487/RFC5785</span>, <time datetime="2010-04" class="refDate">April 2010</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc5785">https://www.rfc-editor.org/info/rfc5785</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC6750">[RFC6750]</dt>
        <dd>
<span class="refAuthor">Jones, M.</span> and <span class="refAuthor">D. Hardt</span>, <span class="refTitle">"The OAuth 2.0 Authorization Framework: Bearer Token Usage"</span>, <span class="seriesInfo">RFC 6750</span>, <span class="seriesInfo">DOI 10.17487/RFC6750</span>, <time datetime="2012-10" class="refDate">October 2012</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc6750">https://www.rfc-editor.org/info/rfc6750</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC7159">[RFC7159]</dt>
        <dd>
<span class="refAuthor">Bray, T., Ed.</span>, <span class="refTitle">"The JavaScript Object Notation (JSON) Data Interchange Format"</span>, <span class="seriesInfo">RFC 7159</span>, <span class="seriesInfo">DOI 10.17487/RFC7159</span>, <time datetime="2014-03" class="refDate">March 2014</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc7159">https://www.rfc-editor.org/info/rfc7159</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC7517">[RFC7517]</dt>
        <dd>
<span class="refAuthor">Jones, M.</span>, <span class="refTitle">"JSON Web Key (JWK)"</span>, <span class="seriesInfo">RFC 7517</span>, <span class="seriesInfo">DOI 10.17487/RFC7517</span>, <time datetime="2015-05" class="refDate">May 2015</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc7517">https://www.rfc-editor.org/info/rfc7517</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC7519">[RFC7519]</dt>
        <dd>
<span class="refAuthor">Jones, M.</span>, <span class="refAuthor">Bradley, J.</span>, and <span class="refAuthor">N. Sakimura</span>, <span class="refTitle">"JSON Web Token (JWT)"</span>, <span class="seriesInfo">RFC 7519</span>, <span class="seriesInfo">DOI 10.17487/RFC7519</span>, <time datetime="2015-05" class="refDate">May 2015</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc7519">https://www.rfc-editor.org/info/rfc7519</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC8174">[RFC8174]</dt>
        <dd>
<span class="refAuthor">Leiba, B.</span>, <span class="refTitle">"Ambiguity of Uppercase vs Lowercase in RFC 2119 Key Words"</span>, <span class="seriesInfo">BCP 14</span>, <span class="seriesInfo">RFC 8174</span>, <span class="seriesInfo">DOI 10.17487/RFC8174</span>, <time datetime="2017-05" class="refDate">May 2017</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc8174">https://www.rfc-editor.org/info/rfc8174</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC8417">[RFC8417]</dt>
        <dd>
<span class="refAuthor">Hunt, P., Ed.</span>, <span class="refAuthor">Jones, M.</span>, <span class="refAuthor">Denniss, W.</span>, and <span class="refAuthor">M. Ansari</span>, <span class="refTitle">"Security Event Token (SET)"</span>, <span class="seriesInfo">RFC 8417</span>, <span class="seriesInfo">DOI 10.17487/RFC8417</span>, <time datetime="2018-07" class="refDate">July 2018</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc8417">https://www.rfc-editor.org/info/rfc8417</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="SUBIDS">[SUBIDS]</dt>
      <dd>
<span class="refAuthor">Backman, A.</span> and <span class="refAuthor">M. Scurtescu</span>, <span class="refTitle">"Subject Identifiers for Security Event Tokens"</span>, <time datetime="2021-05" class="refDate">May 2021</time>, <span>&lt;<a href="https://datatracker.ietf.org/doc/html/draft-ietf-secevent-subject-identifiers">https://datatracker.ietf.org/doc/html/draft-ietf-secevent-subject-identifiers</a>&gt;</span>. </dd>
<dd class="break"></dd>
</dl>
</section>
<section id="section-13.2">
        <h3 id="name-informative-references">
<a href="#section-13.2" class="section-number selfRef">13.2. </a><a href="#name-informative-references" class="section-name selfRef">Informative References</a>
        </h3>
<dl class="references">
<dt id="CAEP">[CAEP]</dt>
        <dd>
<span class="refAuthor">Tulshibagwale, A.</span>, <span class="refTitle">"Re-thinking Federated Identity with the Continuous Access Evaluation Protocol"</span>, <time datetime="2019-02" class="refDate">February 2019</time>, <span>&lt;<a href="https://cloud.google.com/blog/products/identity-security/re-thinking-federated-identity-with-the-continuous-access-evaluation-protocol">https://cloud.google.com/blog/products/identity-security/re-thinking-federated-identity-with-the-continuous-access-evaluation-protocol</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="USECASES">[USECASES]</dt>
      <dd>
<span class="refAuthor">Scurtescu, M.</span>, <span class="refTitle">"Security Events RISC Use Cases"</span>, <time datetime="2017-06" class="refDate">June 2017</time>, <span>&lt;<a href="https://tools.ietf.org/html/draft-scurtescu-secevent-risc-use-cases-00">https://tools.ietf.org/html/draft-scurtescu-secevent-risc-use-cases-00</a>&gt;</span>. </dd>
<dd class="break"></dd>
</dl>
</section>
</section>
<div id="acknowledgements">
<section id="appendix-A">
      <h2 id="name-acknowledgements">
<a href="#appendix-A" class="section-number selfRef">Appendix A. </a><a href="#name-acknowledgements" class="section-name selfRef">Acknowledgements</a>
      </h2>
<p id="appendix-A-1">The authors wish to thank all members of the OpenID Foundation SSF
Working Group who contributed to the development of this
specification.<a href="#appendix-A-1" class="pilcrow">¶</a></p>
</section>
</div>
<div id="notices">
<section id="appendix-B">
      <h2 id="name-notices">
<a href="#appendix-B" class="section-number selfRef">Appendix B. </a><a href="#name-notices" class="section-name selfRef">Notices</a>
      </h2>
<p id="appendix-B-1">Copyright (c) 2021 The OpenID Foundation.<a href="#appendix-B-1" class="pilcrow">¶</a></p>
<p id="appendix-B-2">The OpenID Foundation (OIDF) grants to any Contributor, developer, implementer, or other interested party a non-exclusive, royalty free, worldwide copyright license to reproduce, prepare derivative works from, distribute, perform and display, this Implementers Draft or Final Specification solely for the purposes of (i) developing specifications, and (ii) implementing Implementers Drafts and Final Specifications based on such documents, provided that attribution be made to the OIDF as the source of the material, but that such attribution does not indicate an endorsement by the OIDF.<a href="#appendix-B-2" class="pilcrow">¶</a></p>
<p id="appendix-B-3">The technology described in this specification was made available from contributions from various sources, including members of the OpenID Foundation and others. Although the OpenID Foundation has taken steps to help ensure that the technology is available for distribution, it takes no position regarding the validity or scope of any intellectual property or other rights that might be claimed to pertain to the implementation or use of the technology described in this specification or the extent to which any license under such rights might or might not be available; neither does it represent that it has made any independent effort to identify any such rights. The OpenID Foundation and the contributors to this specification make no (and hereby expressly disclaim any) warranties (express, implied, or otherwise), including implied warranties of merchantability, non-infringement, fitness for a particular purpose, or title, related to this specification, and the entire risk as to implementing this specification is assumed by the implementer. The OpenID Intellectual Property Rights policy requires contributors to offer a patent promise not to assert certain patent claims against other contributors and against implementers. The OpenID Foundation invites any interested party to bring to its attention any copyrights, patents, patent applications, or other proprietary rights that may cover technology that may be required to practice this specification.<a href="#appendix-B-3" class="pilcrow">¶</a></p>
</section>
</div>
<div id="contributors">
<section id="appendix-C">
      <h2 id="name-contributors">
<a href="#name-contributors" class="section-name selfRef">Contributors</a>
      </h2>
<address class="vcard">
        <div dir="auto" class="left"><span class="fn nameRole">Steve Venema</span></div>
<div dir="auto" class="left"><span class="org">ForgeRock</span></div>
<div class="email">
<span>Email:</span>
<a href="mailto:steve.venema@forgerock.com" class="email">steve.venema@forgerock.com</a>
</div>
</address>
<p id="appendix-C-1">Steve defined the format field of Complex Subjects<a href="#appendix-C-1" class="pilcrow">¶</a></p>
</section>
</div>
<div id="authors-addresses">
<section id="appendix-D">
      <h2 id="name-authors-addresses">
<a href="#name-authors-addresses" class="section-name selfRef">Authors' Addresses</a>
      </h2>
<address class="vcard">
        <div dir="auto" class="left"><span class="fn nameRole">Atul Tulshibagwale</span></div>
<div dir="auto" class="left"><span class="org">SGNL</span></div>
<div class="email">
<span>Email:</span>
<a href="mailto:atul@sgnl.ai" class="email">atul@sgnl.ai</a>
</div>
</address>
<address class="vcard">
        <div dir="auto" class="left"><span class="fn nameRole">Tim Cappalli</span></div>
<div dir="auto" class="left"><span class="org">Microsoft</span></div>
<div class="email">
<span>Email:</span>
<a href="mailto:tim.cappalli@microsoft.com" class="email">tim.cappalli@microsoft.com</a>
</div>
</address>
<address class="vcard">
        <div dir="auto" class="left"><span class="fn nameRole">Marius Scurtescu</span></div>
<div dir="auto" class="left"><span class="org">Coinbase</span></div>
<div class="email">
<span>Email:</span>
<a href="mailto:marius.scurtescu@coinbase.com" class="email">marius.scurtescu@coinbase.com</a>
</div>
</address>
<address class="vcard">
        <div dir="auto" class="left"><span class="fn nameRole">Annabelle Backman</span></div>
<div dir="auto" class="left"><span class="org">Amazon</span></div>
<div class="email">
<span>Email:</span>
<a href="mailto:richanna@amazon.com" class="email">richanna@amazon.com</a>
</div>
</address>
<address class="vcard">
        <div dir="auto" class="left"><span class="fn nameRole">John Bradley</span></div>
<div dir="auto" class="left"><span class="org">Yubico</span></div>
<div class="email">
<span>Email:</span>
<a href="mailto:secevemt@ve7jtb.com" class="email">secevemt@ve7jtb.com</a>
</div>
</address>
<address class="vcard">
        <div dir="auto" class="left"><span class="fn nameRole">Shayne Miel</span></div>
<div dir="auto" class="left"><span class="org">Cisco</span></div>
<div class="email">
<span>Email:</span>
<a href="mailto:smiel@cisco.com" class="email">smiel@cisco.com</a>
</div>
</address>
</section>
</div>
<script>const toc = document.getElementById("toc");
toc.querySelector("h2").addEventListener("click", e => {
  toc.classList.toggle("active");
});
toc.querySelector("nav").addEventListener("click", e => {
  toc.classList.remove("active");
});
</script>
</body>
</html>
